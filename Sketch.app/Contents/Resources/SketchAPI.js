module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=require("util")},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"version",function(){return u}),r.d(n,"createFiber",function(){return c});var o={};r.r(o),r.d(o,"version",function(){return y}),r.d(o,"registerDataSupplier",function(){return l}),r.d(o,"deregisterDataSuppliers",function(){return f}),r.d(o,"supplyData",function(){return b}),r.d(o,"supplyDataAtIndex",function(){return p});var i={};r.r(i),r.d(i,"version",function(){return E}),r.d(i,"globalSettingForKey",function(){return w}),r.d(i,"setGlobalSettingForKey",function(){return P}),r.d(i,"settingForKey",function(){return N}),r.d(i,"setSettingForKey",function(){return I}),r.d(i,"layerSettingForKey",function(){return D}),r.d(i,"setLayerSettingForKey",function(){return x}),r.d(i,"documentSettingForKey",function(){return C}),r.d(i,"setDocumentSettingForKey",function(){return T}),r.d(i,"sessionVariable",function(){return F}),r.d(i,"setSessionVariable",function(){return A});var a={};function c(){return coscript.createFiber()}r.r(a),r.d(a,"version",function(){return H}),r.d(a,"message",function(){return R}),r.d(a,"alert",function(){return K}),r.d(a,"INPUT_TYPE",function(){return B}),r.d(a,"getInputFromUser",function(){return W}),r.d(a,"getStringFromUser",function(){return G}),r.d(a,"getSelectionFromUser",function(){return U}),r.d(a,"getTheme",function(){return V});var u={sketch:MSApplicationMetadata.metadata().appVersion,api:"2.0.0"};function s(){if(!__command.pluginBundle())throw new Error("It seems that the command is not running in a plugin. Bundle your command in a plugin to use the DataSupplier API.");return __command.pluginBundle().identifier()}function l(e,t,r){var n=AppController.sharedInstance().dataSupplierManager(),o=s(),i=__command.identifier();n.registerPluginDataSupplier_withName_dataType_pluginIdentifier_commandIdentifier(r,t,e,o,i)}function f(){var e=AppController.sharedInstance().dataSupplierManager(),t=s();e.deregisterDataSuppliersForPluginWithIdentifier(t)}function b(e,t){AppController.sharedInstance().dataSupplierManager().supplyData_forKey(t,e)}function p(e,t,r){AppController.sharedInstance().dataSupplierManager().supplyData_atIndex_forKey(t,r,e)}var y={sketch:MSApplicationMetadata.metadata().appVersion,api:"2.0.0"},h=r(0),d=r.n(h);function m(e){var t=e;return e&&e.sketchObject&&e.sketchObject.documentData?t=e.sketchObject.documentData():e&&e.documentData&&(t=e.documentData()),t}function v(e){return e&&e._isWrappedObject}function g(e){return"string"==typeof e?NSURL.fileURLWithPath(NSString.stringWithString(e.replace(/^file:\/\//,"")).stringByExpandingTildeInPath()):e}function j(e){Object.defineProperty(e,"_parent",{enumerable:!1,writable:!0}),Object.defineProperty(e,"_parentKey",{enumerable:!1,writable:!0}),Object.defineProperty(e,"_inArray",{enumerable:!1,writable:!0})}function S(e,t,r,n){Object.defineProperty(e,"_".concat(t),{enumerable:!1,writable:!0,value:r}),n?Object.defineProperty(e,t,{enumerable:!0,get:function(){return e["_".concat(t)]},set:function(r){e["_".concat(t)]=n(r),e._parent&&e._parentKey&&(e._inArray?e._parent[e._parentKey][e._parent[e._parentKey].indexOf(e)]=e:e._parent[e._parentKey]=e)}}):Object.defineProperty(e,t,{enumerable:!0,get:function(){return e["_".concat(t)]},set:function(r){e["_".concat(t)]=r,e._parent&&e._parentKey&&(e._inArray?e._parent[e._parentKey][e._parent[e._parentKey].indexOf(e)]=e:e._parent[e._parentKey]=e)}})}function _(e){var t=Number(e);return Number(t.toFixed(7))}function O(){return __command.pluginBundle()?__command.pluginBundle().identifier():"com.sketchapp.temporary-script"}function w(e){var t=NSUserDefaults.standardUserDefaults().objectForKey_(e);if(void 0!==t&&"undefined"!==t&&null!==t)return JSON.parse(t)}function P(e,t){var r=NSUserDefaults.standardUserDefaults(),n=JSON.stringify(t,function(e,t){return h.toJSObject(t)});n?r.setObject_forKey_(n,e):r.removeObjectForKey(e)}var k="plugin.sketch.";function N(e){var t=NSUserDefaults.alloc().initWithSuiteName("".concat(k).concat(O())).objectForKey(e);if(void 0!==t&&"undefined"!=t&&null!==t)return JSON.parse(t)}function I(e,t){var r=NSUserDefaults.alloc().initWithSuiteName("".concat(k).concat(O())),n=JSON.stringify(t,function(e,t){return h.toJSObject(t)});n?r.setObject_forKey_(n,e):r.removeObjectForKey(e)}function M(e){return v(e)?"DataOverride"===e.type?e.sketchObject.availableOverride().overrideValue():"Override"===e.type?e.sketchObject.overrideValue():e.sketchObject:e}function D(e,t){var r=__command.valueForKey_onLayer(t,M(e));if(void 0!==r&&"undefined"!=r&&null!==r)return JSON.parse(r)}function x(e,t,r){var n=JSON.stringify(r,function(e,t){return h.toJSObject(t)});n||(n=null),__command.setValue_forKey_onLayer(n,t,M(e))}function C(e,t){var r=m(e),n=__command.valueForKey_onDocument(t,r);if(void 0!==n&&"undefined"!=n&&null!==n)return JSON.parse(n)}function T(e,t,r){var n=m(e),o=JSON.stringify(r,function(e,t){return h.toJSObject(t)});o||(o=null),__command.setValue_forKey_onDocument(o,t,n)}function F(e){var t=NSThread.mainThread().threadDictionary().objectForKey("".concat(k).concat(O(),".").concat(e));if(void 0!==t&&"undefined"!=t&&null!==t)return JSON.parse(t)}function A(e,t){var r=NSThread.mainThread().threadDictionary(),n=JSON.stringify(t,function(e,t){return h.toJSObject(t)});n?r.setObject_forKey_(n,"".concat(k).concat(O(),".").concat(e)):r.removeObjectForKey("".concat(k).concat(O(),".").concat(e))}var E={sketch:MSApplicationMetadata.metadata().appVersion,api:"2.0.0"};function L(){return __command.pluginBundle()&&__command.pluginBundle().alertIcon()?__command.pluginBundle().alertIcon():NSImage.imageNamed("plugins")}function R(e,t){t?d.a.isNativeObject(t)?t.showMessage(e):t.sketchObject.showMessage(e):NSApplication.sharedApplication().orderedDocuments().firstObject().showMessage(e)}function K(e,t){var r=NSAlert.alloc().init();return r.setMessageText(e),r.setInformativeText(t),r.icon=L(),r.runModal()}var B={string:"string",slider:"slider",selection:"selection"};function W(e,t,r){t?d.a.isFunction(t)&&(r=t,t={}):(t={},r=function(){});var n=String(t.type||B.string);if(t.type&&!B[n])throw new Error("unknown input type");if(!e||"string"!=typeof e)throw new Error("input description missing");var o,i=NSAlert.alloc().init();switch(n){case B.string:(o=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,295,25))).setStringValue(String(void 0===t.initialValue?"":t.initialValue)),i.window().setInitialFirstResponder(o);break;case B.slider:(o=NSSlider.alloc().initWithFrame(NSMakeRect(0,0,295,25))).setFloatValue(Number(t.initialValue||0)),void 0!==t.maxValue&&o.setMaxValue(t.maxValue),void 0!==t.minValue&&o.setMinValue(t.minValue),void 0!==t.increment&&(o.setAllowsTickMarkValuesOnly(!0),o.setNumberOfTickMarks(parseInt(1+((void 0!==t.maxValue?t.maxValue:1)-(void 0!==t.minValue?t.minValue:0))/t.increment,10)));break;case B.selection:if(!d.a.isArray(t.possibleValues))throw new Error("When the input type is `selection`, you need to provide the array of possible choices.");(o=NSComboBox.alloc().initWithFrame(NSMakeRect(0,0,295,25))).addItemsWithObjectValues(t.possibleValues);var a=t.possibleValues.indexOf(t.initialValue);o.selectItemAtIndex(-1!==a?a:0),o.editable=!1}if(i.setMessageText(e),t.description&&i.setInformativeText(t.description),i.addButtonWithTitle(t.okButton||"OK"),i.addButtonWithTitle(t.cancelButton||"Cancel"),i.setAccessoryView(o),i.icon=L(),i.runModal()===NSAlertFirstButtonReturn)switch(n){case B.string:return void r(null,String(o.stringValue()));case B.slider:var c=void 0!==t.increment?o.closestTickMarkValueToValue(o.floatValue()):o.floatValue();return void r(null,Number(c));case B.selection:var u=o.indexOfSelectedItem();return void r(null,t.possibleValues[u]);default:r(null,void 0)}else r(new Error("user canceled input"))}function G(e,t){console.warn("`UI.getStringFromUser(message, initialValue)` is deprecated.\nUse `UI.getInputFromUser(\n  message,\n  { initialValue },\n  (error, value) => {}\n)` instead.");var r=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,295,25));r.setStringValue(String(void 0===t?"":t));var n=NSAlert.alloc().init();return n.setMessageText("User input"),n.setInformativeText(e),n.addButtonWithTitle("OK"),n.addButtonWithTitle("Cancel"),n.setAccessoryView(r),n.icon=L(),n.window().setInitialFirstResponder(r),n.runModal(),String(r.stringValue())}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;console.warn("`UI.getSelectionFromUser(message, items, selectedItemIndex)` is deprecated.\nUse `UI.getInputFromUser(\n  message,\n  { type: UI.INPUT_TYPE.selection, items, initialValue },\n  (error, value) => {}\n)` instead.");var n=NSComboBox.alloc().initWithFrame(NSMakeRect(0,0,295,25));n.addItemsWithObjectValues(t),n.selectItemAtIndex(r),n.editable=!1;var o=NSAlert.alloc().init();o.setMessageText(e),o.addButtonWithTitle("OK"),o.addButtonWithTitle("Cancel"),o.setAccessoryView(n),o.icon=L();var i=o.runModal();return[i,n.indexOfSelectedItem(),i===NSAlertFirstButtonReturn]}function V(){return MSTheme.sharedTheme().isDark()?"dark":"light"}var H={sketch:MSApplicationMetadata.metadata().appVersion,api:"2.0.0"};function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t,r){return t&&$(e.prototype,t),r&&$(e,r),e}var ee=function(){function e(t){Z(this,e),Object.defineProperty(this,"_object",{enumerable:!1,value:t.sketchObject}),Object.defineProperty(this,"type",{enumerable:!0,value:this.constructor.type}),this.update(t)}return Q(e,[{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.constructor._DefinedPropertiesKey;Object.keys(t).sort(function(e,t){return r[e]&&r[e].depends&&r[e].depends===t?1:r[t]&&r[t].depends&&r[t].depends===e?-1:0}).forEach(function(n){r[n]?r[n].importable&&(e[n]=t[n]):n&&"_"!==n[0]&&console.warn('no idea what to do with "'.concat(n,'" in ').concat(e.type))})}},{key:"toJSON",value:function(){var e=this,t=this.constructor._DefinedPropertiesKey,r={};return Object.keys(t).forEach(function(n){if(t[n].exportable){var o=e[n];o&&Array.isArray(o)?r[n]=o.map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}):o&&"function"==typeof o.toJSON?r[n]=o.toJSON():void 0!==o&&(r[n]=o)}}),r}},{key:"isImmutable",value:function(){return/Immutable/.test(String(this.sketchObject.className()))}},{key:"isEqual",value:function(e){return this.sketchObject==e.sketchObject}}],[{key:"fromNative",value:function(e){return e?new this({sketchObject:e}):e}},{key:"define",value:function(e,t){if(this._addDescriptor(e,t),t.array&&void 0!==t.set){if(!t.insertItem||!t.removeItem)throw new Error("missing method to mutate the array");var r=t.get;t.get=function(){var e=this,n=r.bind(this)();return Array.isArray(n)?(n.reverse=function(){Array.prototype.reverse.apply(n),t.set.bind(e)(n)},n.sort=function(r){Array.prototype.reverse.apply(n,[r]),t.set.bind(e)(n)},n.fill=function(r,o,i){Array.prototype.reverse.apply(n,[r,o,i]),t.set.bind(e)(n)},n.splice=function(r,o){r<0&&(r+=n.length),(!r||r<0||r>n.length)&&(r=0),(void 0===o||o>n.length-r)&&(o=n.length-r);for(var i=[],a=r;a<o+r;a+=1)i.push(t.removeItem.bind(e)(a));for(var c=[],u=arguments.length,s=new Array(u>2?u-2:0),l=2;l<u;l++)s[l-2]=arguments[l];return s.forEach(function(n,o){c.push(t.insertItem.bind(e)(n,r+o))}),Array.prototype.splice.apply(n,[r,o].concat(c)),i},n.push=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.splice.apply(n,[n.length,0].concat(t)),n.length},n.unshift=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.splice.apply(n,[0,0].concat(t)),n.length},n.pop=function(){return n.splice(n.length-1)[0]},n.shift=function(){return n.splice(0,1)[0]},n):n}}Object.defineProperty(this.prototype,e,t)}},{key:"defineObject",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="_".concat(e),o="_".concat(e,"Class"),i=function(){function e(r){Z(this,e);var n=this;Object.defineProperty(n,"_parent",{enumerable:!1,value:r}),Object.defineProperty(n,"_object",{enumerable:!1,value:r.sketchObject}),Object.defineProperty(n,"_keys",{enumerable:!1,writable:!0,value:Object.keys(t)}),n._keys.forEach(function(e){Object.defineProperty(n,e,t[e])})}return Q(e,[{key:"toJSON",value:function(){var e=this;return this._keys.reduce(function(t,r){return t[r]=e[r],t},{})}}]),e}();this[o]=i;var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){X(e,t,r[t])})}return e}({},r,{get:function(){if(this[n])return this[n];var e=this.constructor[o];return Object.defineProperty(this,n,{enumerable:!1,value:new e(this)}),this[n]},set:function(t){var r=this[e];Object.keys(t).forEach(function(e){r[e]=t[e]})}});this._addDescriptor(e,a),Object.defineProperty(this.prototype,e,a)}},{key:"extendObject",value:function(e,t){var r="_".concat(e,"Class");if(!this[r])throw new Error("missing super class");var n=function(e){function r(e){var n;Z(this,r),n=function(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?Y(e):t}(this,z(r).call(this,e));var o=Y(Y(n)),i=Object.keys(t);return n._keys=n._keys.concat(i),i.forEach(function(e){Object.defineProperty(o,e,t[e])}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(r,e),r}(this[r]);this[r]=n}},{key:"_addDescriptor",value:function(e,t){t.propertyName=e,null==t.enumerable&&(t.enumerable=!0),null==t.exportable&&(t.exportable=!0),null==t.importable&&(t.importable=!0),t.importable=t.importable&&void 0!==t.set,t.exportable=t.exportable&&void 0!==t.get,"_"!==e[0]&&(this._DefinedPropertiesKey[e]=t)}}]),e}();ee._DefinedPropertiesKey={},ee.define("type",{exportable:!0,importable:!1,get:function(){return this.type}}),ee.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.objectID())}}),ee.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),ee.define("_isWrappedObject",{enumerable:!1,exportable:!1,get:function(){return!0}});var te={Group:"Group",Page:"Page",Artboard:"Artboard",Shape:"Shape",Style:"Style",Blur:"Blur",Border:"Border",BorderOptions:"BorderOptions",Fill:"Fill",Gradient:"Gradient",GradientStop:"GradientStop",Shadow:"Shadow",Image:"Image",Text:"Text",Document:"Document",Library:"Library",SymbolMaster:"SymbolMaster",SymbolInstance:"SymbolInstance",Override:"Override",ImageData:"ImageData",Flow:"Flow",HotSpot:"HotSpot",ImportableObject:"ImportableObject",SharedStyle:"SharedStyle",DataOverride:"DataOverride",ShapePath:"ShapePath",Slice:"Slice",ExportFormat:"ExportFormat",CurvePoint:"CurvePoint",ColorAsset:"ColorAsset",GradientAsset:"GradientAsset"},re={_typeToBox:{},_nativeToBox:{},_typeToNative:{},registerClass:function(e,t){this._typeToBox[e.type]||(this._typeToBox[e.type]=e,this._typeToNative[e.type]=t),this._nativeToBox[String(t.class())]=e},create:function(e,t){var r=e&&e.type?e.type:e,n=this._typeToBox[r];if(n)return new n(t)},createNative:function(e){var t=e&&e.type?e.type:e,r=this._typeToNative[t];if(!r)throw new Error("don't know how to create a native ".concat(t));return r}};function ne(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function oe(e){if(e){var t=re._nativeToBox[String(e.class())];return t||(console.warn("no mapped wrapper for ".concat(String(e.class()))),t=ee),t.fromNative(e)}}function ie(e,t){if(e){if(Object(h.isNativeObject)(e)&&!Object(h.isObject)(e))return oe(e);if(v(e))return e;var r=e.type,n=ne(e,["type"]);if(!r&&!t)throw new Error('You need to specify a "type" when creating a nested layer. Received: '.concat(JSON.stringify(e,null,2)));return re.create(r||t,n)}}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ue(e,t,r[t])})}return e}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe={none:-1,slideFromRight:0,slideFromLeft:1,slideFromBottom:2,slideFromTop:3},ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,fe(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,ee),r=t,o=[{key:"from",value:function(e){if(v(e)&&e.type===te.Flow)return e;if(Object(h.isNativeObject)(e)){var r=String(e.class());if("MSFlowConnection"!==r)throw new Error("Cannot create a flow from a ".concat(r));return t.fromNative(e)}if(e&&(e.target||e.targetId))return new t(ce({sketchObject:MSFlowConnection.new()},e));throw new Error("`flow` needs to be an object")}}],(n=[{key:"isBackAction",value:function(){return!!this._object.isBackAction()}},{key:"isValidConnection",value:function(){return!!this._object.isValidFlowConnection()}}])&&se(r.prototype,n),o&&se(r,o),t}();ye.type=te.Flow,ye._DefinedPropertiesKey=ce({},ee._DefinedPropertiesKey),re.registerClass(ye,MSFlowConnection),ye.define("targetId",{get:function(){return String(this._object.destinationArtboardID())},set:function(e){this._object.destinationArtboardID=e}}),ye.define("target",{enumerable:!1,exportable:!1,get:function(){var e=this._object.destinationArtboard();return"back"==e?"back":ie(e)},set:function(e){this._object.destinationArtboardID="back"!=e?ie(e).id:"back"}}),ye.define("animationType",{get:function(){var e=this._object.animationType();return Object.keys(pe).find(function(t){return pe[t]===e})||e},set:function(e){var t=pe[e];this._object.animationType=void 0!==t?t:e}}),delete ye._DefinedPropertiesKey.id;var he=r(1);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,je(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,ee),r=t,o=[{key:"from",value:function(e){if(v(e)&&e.type===te.ImageData)return e;var r;if(Object(h.isNativeObject)(e))if(e.isKindOfClass(NSImage))r=e;else if(e.isKindOfClass(NSData))r=NSImage.alloc().initWithData(e);else{if(!e.isKindOfClass(NSURL)){if(e.isKindOfClass(MSImageData))return t.fromNative(e);throw new Error("Cannot create an image from a ".concat(String(e.class())))}r=NSImage.alloc().initWithContentsOfURL(e)}else if("string"==typeof e||e&&e.path)r=NSImage.alloc().initByReferencingFile(e.path||e);else if(e&&e.base64)try{var n=NSData.alloc().initWithBase64EncodedString_options(e.base64,NSDataBase64DecodingIgnoreUnknownCharacters);r=NSImage.alloc().initWithData(n)}catch(e){throw new Error(e)}else{if(!he.Buffer.isBuffer(e))throw new Error("`image` needs to be a Buffer");r=NSImage.alloc().initWithData(e.toNSData())}return t.fromNative(MSImageData.alloc().initWithImage(r))}}],(n=null)&&ve(r.prototype,n),o&&ve(r,o),t}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.type=te.ImageData,_e._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){me(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(_e,MSImageData),_e.define("nsimage",{get:function(){return this._object.image()}}),_e.define("nsdata",{get:function(){return this._object.data()}}),_e.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.hash())}});var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,ke(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,ee),t}();function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Ie.type=te.Override,Ie._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){we(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(Ie,MSAvailableOverride),Ie.define("path",{get:function(){return String(this._object.overridePoint().path())}}),Ie.define("property",{get:function(){return String(this._object.overridePoint().property())}}),Ie.define("affectedLayer",{get:function(){return oe(this._object.affectedLayer())}}),Ie.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.overridePoint().name())}}),Ie.define("symbolOverride",{get:function(){return Boolean(this._object.overridePoint().isSymbolOverride())}}),Ie.define("value",{get:function(){var e=this._object.currentValue();return"image"===this.property?_e.fromNative(e):String(this._object.currentValue())},set:function(e){if(!this.__symbolInstance)throw new Error("Can only set `value` for a symbol instance");this.__symbolInstance.setOverrideValue(this,e)}}),Ie.define("isDefault",{get:function(){return!this._object.hasOverride()}}),Ie.define("editable",{get:function(){return void 0!==this.__editable?this.__editable:Boolean(Number(this._object.isEditable()))},set:function(e){if(!this.__symbolMaster)throw new Error("Can only set `editable` for a symbol master");this.__editable=e,this.__symbolMaster.sketchObject.setOverridePoint_editable(this._object.overridePoint(),e)}});var De=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this),t&&t.origin&&Object(h.isNumber)(t.origin.x)?(S(this,"x",parseFloat(t.origin.x)),S(this,"y",parseFloat(t.origin.y)),S(this,"width",parseFloat(t.size.width)),S(this,"height",parseFloat(t.size.height))):t&&Object(h.isNumber)(t.x)?(S(this,"x",parseFloat(t.x)),S(this,"y",parseFloat(t.y)),S(this,"width",parseFloat(t.width)),S(this,"height",parseFloat(t.height))):(S(this,"x",parseFloat(t)),S(this,"y",parseFloat(r)),S(this,"width",parseFloat(n)),S(this,"height",parseFloat(o)))}var t,r,n;return t=e,(r=[{key:"offset",value:function(e,t){return this._x+=parseFloat(e),this._y+=parseFloat(t),this._parent&&this._parentKey&&(this._parent[this._parentKey]=this),this}},{key:"scale",value:function(e,t){return this._width*=parseFloat(e),this._height*=parseFloat(void 0===t?e:t),this._parent&&this._parentKey&&(this._parent[this._parentKey]=this),this}},{key:"asCGRect",value:function(){return CGRectMake(this._x,this._y,this._width,this._height)}},{key:"asNSRect",value:function(){return NSMakeRect(this._x,this._y,this._width,this._height)}},{key:"toString",value:function(){return"{".concat(this._x,", ").concat(this._y,", ").concat(this._width,", ").concat(this._height,"}")}},{key:"toJSON",value:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}}},{key:"changeBasis",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.from,n=t.to,o=ie(r),i=ie(n);if(!o){if(!i||!i.sketchObject||!i.sketchObject.convertPoint_fromCoordinateSpace)throw new Error("Expected a coordinate space, got ".concat(n));var a=i.sketchObject.convertPoint_fromCoordinateSpace(NSMakePoint(this.x,this.y),null);return new e(a.x,a.y,this.width,this.height)}if(!o.sketchObject||!o.sketchObject.convertPoint_toCoordinateSpace)throw new Error("Expected a coordinate space, got ".concat(r));var c=o.sketchObject.convertPoint_toCoordinateSpace(NSMakePoint(this.x,this.y),i?i.sketchObject:null);return new e(c.x,c.y,this.width,this.height)}}])&&Me(t.prototype,r),n&&Me(t,n),e}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=MSExportFormat.formatWithScale_name_fileFormat(1,"","png")),Te(this,Fe(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,ee),t}();function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Be(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ee.type=te.ExportFormat,Ee._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Ce(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(Ee,MSExportFormat),delete Ee._DefinedPropertiesKey.id,Ee.define("fileFormat",{get:function(){return String(this._object.fileFormat())},set:function(e){if(!MSExportFormat.validFormats().containsObject(e))throw new Error("File format not supported");this._object.setFileFormat(e)}}),Ee.define("prefix",{get:function(){if(0!=this._object.namingScheme())return String(this._object.name())},set:function(e){this._object.setNamingScheme(1),this._object.setName(e)}}),Ee.define("suffix",{get:function(){if(1!=this._object.namingScheme())return String(this._object.name())},set:function(e){this._object.setNamingScheme(0),this._object.setName(e)}}),Ee.define("size",{get:function(){switch(this._object.visibleScaleType()){case 0:return"".concat(this._object.scale(),"x");case 1:return"".concat(this._object.absoluteSize(),"w");case 2:return"".concat(this._object.absoluteSize(),"h");default:throw new Error("unknown visibleScaleType")}},set:function(e){var t=String(e);if(t.endsWith("w")||t.endsWith("width")||t.endsWith("px")&&1==this._object.visibleScaleType())this._object.setVisibleScaleType(1),this._object.setScale(0),this._object.setAbsoluteSize(parseInt(t,10));else if(t.endsWith("h")||t.endsWith("height")||t.endsWith("px")&&2==this._object.visibleScaleType())this._object.setVisibleScaleType(2),this._object.setScale(0),this._object.setAbsoluteSize(parseInt(t,10));else{if(!t.endsWith("x"))throw new Error("could not parse the size");this._object.setVisibleScaleType(0),this._object.setScale(parseInt(t,10)),this._object.setAbsoluteSize(0)}}});var Ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,We(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,ee),r=t,(n=[{key:"duplicate",value:function(){var e=this._object,t=e.copy();return e.parentGroup().insertLayers_afterLayer([t],e),oe(t)}},{key:"remove",value:function(){if(this.isImmutable())return this;var e=this._object.parentGroup();return e&&e.removeLayer(this._object),this}},{key:"moveToFront",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveToFront([this._object]),this)}},{key:"moveForward",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveForward([this._object]),this)}},{key:"moveToBack",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveToBack([this._object]),this)}},{key:"moveBackward",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveBackward([this._object]),this)}},{key:"getParentPage",value:function(){return oe(this._object.parentPage())}},{key:"getParentArtboard",value:function(){return oe(this._object.parentArtboard())}},{key:"getParentSymbolMaster",value:function(){return oe(this._object.parentSymbol())}},{key:"getParentShape",value:function(){return oe(this._object.parentShape())}},{key:"localRectToPageRect",value:function(e){return console.warn("Layer.layerRectToPageRect(rect) is deprecated. Use rect.changeBasis({ from: layer }) instead"),e.changeBasis({from:this})}},{key:"localRectToParentRect",value:function(e){return console.warn("Layer.localRectToParentRect(rect) is deprecated. Use rect.changeBasis({ from: layer, to: layer.parent }) instead"),e.changeBasis({from:this,to:this.parent})}}])&&Ke(r.prototype,n),o&&Ke(r,o),t}();function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e){return MSImmutableColor.colorWithSVGString_(e)}function Je(e){function t(e){return(256|Math.round(255*e)).toString(16).slice(1)}var r=t(e.red()),n=t(e.green()),o=t(e.blue()),i=t(e.alpha());return"#".concat(r).concat(n).concat(o).concat(i)}Ue._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Re(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(Ue,MSLayer),re.registerClass(Ue,MSImmutableLayer),Ue.define("index",{exportable:!1,get:function(){var e=this._object;return parseInt(e.parentGroup().indexOfLayer_(e),10)}}),Ue.define("parent",{enumerable:!1,exportable:!1,get:function(){return oe(this._object.parentGroup())},set:function(e){if(!this.isImmutable()&&(this._object.parentGroup()&&this._object.removeFromParent(),e=ie(e))){if(!e._object||"function"!=typeof e._object.addLayers)throw new Error("This object cannot accept layers: ".concat(e));e._object.addLayers([this._object])}}}),Ue.define("frame",{get:function(){var e=this._object.frame(),t=new De(e.x(),e.y(),e.width(),e.height());return t._parent=this,t._parentKey="frame",t},set:function(e){this.isImmutable()||this._object.frame().setRect(NSMakeRect(e.x,e.y,e.width,e.height))}}),Ue.define("name",{get:function(){return String(this._object.name())},set:function(e){this.isImmutable()||this._object.setName(e)}}),Ue.define("selected",{get:function(){return this._object.isSelected&&!!this._object.isSelected()},set:function(e){this.isImmutable()||(e?this._object.select_byExtendingSelection(!0,!0):this._object.select_byExtendingSelection(!1,!0))}}),Ue.define("flow",{get:function(){if(this._object.flow())return ye.fromNative(this._object.flow())},set:function(e){this.isImmutable()||(this._object.flow=e?ye.from(e).sketchObject:null)}}),Ue.define("hidden",{get:function(){return!this._object.isVisible()},set:function(e){this.isImmutable()||this._object.setIsVisible(!e)}}),Ue.define("locked",{get:function(){return!!this._object.isLocked()},set:function(e){this.isImmutable()||this._object.setIsLocked(e)}}),Ue.define("exportFormats",{array:!0,get:function(){return Object(h.toArray)(this._object.exportOptions().exportFormats()||[]).map(Ee.fromNative.bind(Ee))},set:function(e){this.isImmutable()||this._object.exportOptions().setExportFormats(Object(h.toArray)(e).map(function(e){return ie(e,te.ExportFormat).sketchObject}))},insertItem:function(e,t){if(!this.isImmutable()){var r=Object(h.toArray)(this._object.exportOptions().exportFormats()||[]);return r.splice(t,0,e),this.exportFormats=r,ie(e,te.ExportFormat)}},removeItem:function(e){if(!this.isImmutable()){var t=Object(h.toArray)(this._object.exportOptions().exportFormats()||[]),r=t.splice(e,1);return this.exportFormats=t,Ee.fromNative(r[0])}}}),Ue.defineObject("transform",{rotation:{get:function(){for(var e=-Number(this._object.rotation());e<=-180;)e+=360;return 0===(e%=360)?0:e},set:function(e){this._parent.isImmutable()||this._object.applyUserVisibleRotation_explicitRotationCenter(e,null)}},flippedHorizontally:{get:function(){return Boolean(Number(this._object.isFlippedHorizontal()))},set:function(e){this._parent.isImmutable()||this._object.setIsFlippedHorizontal(e)}},flippedVertically:{get:function(){return Boolean(Number(this._object.isFlippedVertical()))},set:function(e){this._parent.isImmutable()||this._object.setIsFlippedVertical(e)}}});var ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._object=t}var t,r,n;return t=e,n=[{key:"from",value:function(t){if(t){var r;if(Object(h.isNativeObject)(t)){var n=String(t.class());if("MSColor"===n)r=MSImmutableColor.alloc().initWithMutableModelObject(t);else if("MSImmutableColor"===n)r=t;else{if("NSColor"!==n)throw new Error("Cannot create a color from a ".concat(n));r=MSImmutableColor.colorWithNSColor(t)}}else{if("string"!=typeof t)throw new Error("`color` needs to be a string");r=He(t)}return new e(r)}}}],(r=[{key:"toString",value:function(){return Je(this._object)}},{key:"toMSColor",value:function(){return this._object.newMutableCounterpart()}},{key:"toMSImmutableColor",value:function(){return this._object}}])&&Ve(t.prototype,r),n&&Ve(t,n),e}();function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xe(this,Ze(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,ee),r=t,o=[{key:"from",value:function(e){if(e){var r;if(Object(h.isNativeObject)(e)){var n=String(e.class());if("MSGradientStop"!==n&&"MSImmutableGradientStop"!==n)throw new Error("Cannot create a gradient from a ".concat(n));r=e}else r=MSGradientStop.stopWithPosition_color(e.position||0,ze.from(e.color||"#000000FF").toMSColor());return t.fromNative(r)}}}],(n=null)&&Ye(r.prototype,n),o&&Ye(r,o),t}();function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Qe.type=te.GradientStop,Qe._DefinedPropertiesKey={},Qe.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),Qe.define("position",{get:function(){return Number(this._object.position())},set:function(e){this._object.setPosition(e)}}),Qe.define("color",{get:function(){return Je(this._object.color())},set:function(e){var t=ze.from(e);this._object.color=t.toMSColor()}});var tt=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this);var n=t&&Object(h.isNumber)(t.x);S(this,"x",n?parseFloat(t.x):parseFloat(t)),S(this,"y",n?parseFloat(t.y):parseFloat(r))}var t,r,n;return t=e,(r=[{key:"asCGPoint",value:function(){return CGPointMake(this._x,this._y)}},{key:"asNSPoint",value:function(){return NSMakePoint(this._x,this._y)}},{key:"toJSON",value:function(){return{x:this._x,y:this._y}}}])&&et(t.prototype,r),n&&et(t,n),e}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct={Linear:0,Radial:1,Angular:2},ut=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,ee),r=t,o=[{key:"from",value:function(e){if(e){var r;if(Object(h.isNativeObject)(e)){var n=String(e.class());if("MSGradient"!==n&&"MSImmutableGradient"!==n)throw new Error("Cannot create a gradient from a ".concat(n));r=e}else{if(r=MSGradient.alloc().initBlankGradient(),void 0!==e.gradientType){var o=ct[e.gradientType];r.setGradientType(void 0!==o?o:e.gradientType)}e.from&&r.setFrom(CGPointMake(void 0!==e.from.x?e.from.x:.5,void 0!==e.from.y?e.from.y:0)),void 0!==e.to&&r.setTo(CGPointMake(void 0!==e.to.x?e.to.x:.5,void 0!==e.to.y?e.to.y:1)),e.stops&&r.setStops(e.stops.map(Qe.from).map(function(e){return e._object}))}return t.fromNative(r)}}}],(n=null)&&nt(r.prototype,n),o&&nt(r,o),t}();function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ut.type=te.Gradient,ut._DefinedPropertiesKey={},ut.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),ut.define("gradientType",{get:function(){var e=this;return Object.keys(ct).find(function(t){return ct[t]===e._object.gradientType()})||this._object.gradientType()},set:function(e){var t=ct[e];this._object.setGradientType(void 0!==t?t:e)}}),ut.define("from",{get:function(){var e=new tt(this._object.from().x,this._object.from().y);return e._parent=this,e._parentKey="from",e},set:function(e){this._object.setFrom(CGPointMake("undefined"!==e.x?e.x:.5,"undefined"!==e.y?e.y:0))}}),ut.define("to",{get:function(){var e=new tt(this._object.to().x,this._object.to().y);return e._parent=this,e._parentKey="to",e},set:function(e){this._object.setTo(CGPointMake("undefined"!==e.x?e.x:.5,"undefined"!==e.y?e.y:1))}}),ut.define("stops",{get:function(){return Object(h.toArray)(this._object.stops()).map(Qe.from.bind(Qe))},set:function(e){this._object.setStops(e.map(Qe.from.bind(Qe)).map(function(e){return e._object}))}});var yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,bt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,ee),r=t,o=[{key:"toNative",value:function(e,t){if(Object(h.isNativeObject)(t))return t;if(v(t))return t.sketchObject;var r=e.new(),n="string"==typeof t?ze.from(t):ze.from(t.color);return n&&(r.color=n.toMSColor()),void 0!==t.blur&&(r.blurRadius=t.blur),void 0!==t.x&&(r.offsetX=t.x),void 0!==t.y&&(r.offsetY=t.y),void 0!==t.spread&&(r.spread=t.spread),void 0===t.enabled?r.isEnabled=!0:r.isEnabled=t.enabled,r}}],(n=null)&&lt(r.prototype,n),o&&lt(r,o),t}();function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}yt.type=te.Shadow,yt._DefinedPropertiesKey={},yt.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),yt.define("blur",{get:function(){return Number(this._object.blurRadius())},set:function(e){this._object.blurRadius=e}}),yt.define("x",{get:function(){return Number(this._object.offsetX())},set:function(e){this._object.offsetX=e}}),yt.define("y",{get:function(){return Number(this._object.offsetY())},set:function(e){this._object.offsetY=e}}),yt.define("spread",{get:function(){return Number(this._object.spread())},set:function(e){this._object.spread=e}}),yt.define("color",{get:function(){return Je(this._object.color())},set:function(e){var t=ze.from(e);this._object.color=t.toMSColor()}}),yt.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}});var jt={None:0,OpenArrow:1,FilledArrow:2,Line:3,OpenCircle:4,FilledCircle:5,OpenSquare:6,FilledSquare:7},St={None:"None",OpenArrow:"OpenArrow",FilledArrow:"FilledArrow",ClosedArrow:"FilledArrow",Line:"Line",OpenCircle:"OpenCircle",FilledCircle:"FilledCircle",OpenSquare:"OpenSquare",FilledSquare:"FilledSquare"},_t={Butt:0,Round:1,Projecting:2},Ot={Butt:"Butt",Round:"Round",Projecting:"Projecting"},wt={Miter:0,Round:1,Bevel:2},Pt={Miter:"Mitter",Round:"Round",Bevel:"Bevel"},kt={startArrowhead:St.None,endArrowhead:St.None,dashPattern:[],lineEnd:Ot.Butt,lineJoin:Pt.Miter},Nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mt(this,vt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,ee),r=t,o=[{key:"updateNative",value:function(e,t){var r=Object.assign({},kt,t);if(void 0!==r.startArrowhead){var n=jt[r.startArrowhead];e.setStartMarkerType(void 0!==n?n:r.startArrowhead)}if(void 0!==r.endArrowhead){var o=jt[r.endArrowhead];e.setEndMarkerType(void 0!==o?o:r.endArrowhead)}if(void 0!==r.dashPattern&&e.borderOptions().setDashPattern(r.dashPattern),void 0!==r.lineEnd){var i=_t[r.lineEnd];e.borderOptions().setLineCapStyle(void 0!==i?i:r.lineEnd)}if(void 0!==r.lineJoin){var a=wt[r.lineJoin];e.borderOptions().setLineJoinStyle(void 0!==a?a:r.lineJoin)}}}],(n=null)&&dt(r.prototype,n),o&&dt(r,o),t}();function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Nt.type=te.BorderOptions,Nt._DefinedPropertiesKey={},Nt.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),Nt.define("startArrowhead",{get:function(){var e=this._object.startMarkerType();return Object.keys(jt).find(function(t){return jt[t]===e})||e},set:function(e){var t=jt[e];this._object.setStartMarkerType(void 0!==t?t:e)}}),Nt.define("endArrowhead",{get:function(){var e=this._object.endMarkerType();return Object.keys(jt).find(function(t){return jt[t]===e})||e},set:function(e){var t=jt[e];this._object.setEndMarkerType(void 0!==t?t:e)}}),Nt.define("dashPattern",{get:function(){return Object(h.toArray)(this._object.borderOptions().dashPattern()).map(Number)},set:function(e){this._object.borderOptions().setDashPattern(e)}}),Nt.define("lineEnd",{get:function(){var e=this._object.borderOptions().lineCapStyle();return Object.keys(_t).find(function(t){return _t[t]===e})||e},set:function(e){var t=_t[e];this._object.borderOptions().setLineCapStyle(void 0!==t?t:e)}}),Nt.define("lineJoin",{get:function(){var e=this._object.borderOptions().lineJoinStyle();return Object.keys(wt).find(function(t){return wt[t]===e})||e},set:function(e){var t=wt[e];this._object.borderOptions().setLineJoinStyle(void 0!==t?t:e)}});var Tt={Gaussian:0,Motion:1,Zoom:2,Background:3},Ft={Gaussian:"Gaussian",Motion:"Motion",Zoom:"Zoom",Background:"Background"},At={center:{x:.5,y:.5},motionAngle:0,radius:10,enabled:!1,blurType:Ft.Gaussian},Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dt(this,xt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,ee),r=t,o=[{key:"updateNative",value:function(e,t){var r=Object.assign({},At,t);if(void 0!==r.center&&e.setCenter(CGPointMake(r.center.x,r.center.y)),void 0!==r.motionAngle&&e.setMotionAngle(r.motionAngle),void 0!==r.radius&&e.setRadius(r.radius),void 0!==r.blurType){var n=Tt[r.blurType];e.setType(void 0!==n?n:r.blurType)}void 0!==r.enabled&&(e.isEnabled=r.enabled)}}],(n=null)&&Mt(r.prototype,n),o&&Mt(r,o),t}();function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kt(e,t){return!t||"object"!==Lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Et.type=te.Blur,Et._DefinedPropertiesKey={},Et.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),Et.define("center",{get:function(){var e=new tt(this._object.center().x,this._object.center().y);return e._parent=this,e._parentKey="center",e},set:function(e){this._object.setCenter(CGPointMake(e.x,e.y))}}),Et.define("motionAngle",{get:function(){return Number(this._object.motionAngle())},set:function(e){this._object.setMotionAngle(e)}}),Et.define("radius",{get:function(){return Number(this._object.radius())},set:function(e){this._object.setRadius(e)}}),Et.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}}),Et.define("blurType",{get:function(){var e=this._object.type();return Object.keys(Tt).find(function(t){return Tt[t]===e})||e},set:function(e){var t=Tt[e];this._object.setType(void 0!==t?t:e)}});var Gt={Color:0,Gradient:1,Pattern:4,Noise:5},Ut={Tile:0,Fill:1,Stretch:2,Fit:3},Vt={Original:0,Black:1,White:2,Color:3},Ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kt(this,Bt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,ee),r=t,o=[{key:"toNative",value:function(e){if(Object(h.isNativeObject)(e))return e;if(v(e))return e.sketchObject;var t=MSStyleFill.new(),r="string"==typeof e?ze.from(e):ze.from(e.color),n=ut.from(e.gradient);if(r&&(t.color=r.toMSColor()),n&&(t.gradient=n._object),e.noise){if(void 0!==e.noise.noiseType){var o=Vt[e.noise.noiseType];t.setNoiseIndex(void 0!==o?o:e.noise.noiseType||Vt.Original)}void 0!==e.noise.intensity&&t.setNoiseIntensity(e.noise.intensity)}if(e.pattern){if(void 0!==e.pattern.patternType){var i=Ut[e.pattern.patternType];t.setPatternFillType(void 0!==i?i:e.pattern.patternType||Ut.Tile)}if(void 0!==e.pattern.tileScale&&t.setPatternTileScale(e.pattern.tileScale),void 0!==e.pattern.image){var a=_e.from(e.pattern.image);t.setImage(a.sketchObject)}}var c=Gt[e.fill];return t.fillType=void 0!==c?c:e.fillType||Gt.Color,void 0===e.enabled?t.isEnabled=!0:t.isEnabled=e.enabled,t}}],(n=null)&&Rt(r.prototype,n),o&&Rt(r,o),t}();function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qt(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ht.type=te.Fill,Ht._DefinedPropertiesKey={},Ht.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),Ht.define("fill",{get:function(){var e=this;return Object.keys(Gt).find(function(t){return Gt[t]===e._object.fillType()})||this._object.fillType()},set:function(e){var t=Gt[e];this._object.fillType=void 0!==t?t:e||Gt.Color}}),Ht.define("color",{get:function(){return Je(this._object.color())},set:function(e){var t=ze.from(e);this._object.color=t.toMSColor()}}),Ht.define("gradient",{get:function(){return ut.from(this._object.gradient())},set:function(e){var t=ut.from(e);this._object.gradient=t}}),Ht.defineObject("pattern",{patternType:{get:function(){var e=this;return Object.keys(Ut).find(function(t){return Ut[t]===e._object.patternFillType()})||this._object.patternFillType()},set:function(e){var t=Ut[e];this._object.setPatternFillType(void 0!==t?t:e||Ut.Tile)}},image:{get:function(){return _e.fromNative(this._object.image())},set:function(e){this._object.setImage(_e.from(e).sketchObject)}},tileScale:{get:function(){return Number(this._object.patternTileScale())},set:function(e){this._object.setPatternTileScale(e)}}}),Ht.defineObject("noise",{noiseType:{get:function(){var e=this;return Object.keys(Vt).find(function(t){return Vt[t]===e._object.noiseIndex()})||this._object.noiseIndex()},set:function(e){var t=Vt[e];this._object.setNoiseIndex(void 0!==t?t:e||Vt.Original)}},intensity:{get:function(){return Number(this._object.noiseIntensity())},set:function(e){this._object.setNoiseIntensity(e)}}}),Ht.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}});var Zt={Center:0,Inside:1,Outside:2,Both:3},$t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qt(this,Yt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,ee),r=t,o=[{key:"toNative",value:function(e){if(Object(h.isNativeObject)(e))return e;if(v(e))return e.sketchObject;var t=MSStyleBorder.new(),r="string"==typeof e?ze.from(e):ze.from(e.color),n=ut.from(e.gradient);if(r&&(t.color=r.toMSColor()),n&&(t.gradient=n._object),void 0!==e.thickness&&(t.thickness=e.thickness),void 0!==e.position){var o=Zt[e.position];t.position=void 0!==o?o:e.position}var i=Gt[e.fillType];return t.fillType=void 0!==i?i:e.fillType||Gt.Color,void 0===e.enabled?t.isEnabled=!0:t.isEnabled=e.enabled,t}}],(n=null)&&zt(r.prototype,n),o&&zt(r,o),t}();$t.type=te.Border,$t._DefinedPropertiesKey={},$t.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),$t.define("fillType",{get:function(){var e=this;return Object.keys(Gt).find(function(t){return Gt[t]===e._object.fillType()})||this._object.fillType()},set:function(e){var t=Gt[e];this._object.fillType=void 0!==t?t:e||Gt.Color}}),$t.define("position",{get:function(){var e=this;return Object.keys(Zt).find(function(t){return Zt[t]===e._object.position()})||this._object.position()},set:function(e){var t=Zt[e];this._object.position=void 0!==t?t:e}}),$t.define("color",{get:function(){return Je(this._object.color())},set:function(e){var t=ze.from(e);this._object.color=t.toMSColor()}}),$t.define("gradient",{get:function(){return ut.from(this._object.gradient())},set:function(e){var t=ut.from(e);this._object.gradient=t}}),$t.define("thickness",{get:function(){return Number(this._object.thickness())},set:function(e){this._object.thickness=e}}),$t.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}});var Qt={left:0,right:1,center:2,justified:3,natural:4},er={0:"left",1:"right",2:"center",3:"justified",4:"left"},tr={top:0,center:1,bottom:2},rr={0:"top",1:"center",2:"bottom"};function nr(e){var t=e.textStyle();if(t)return t.attributes()}function or(e){var t=nr(e);if(t){var r=t[NSParagraphStyleAttributeName];return r||(r=NSParagraphStyle.defaultParagraphStyle()),r}}function ir(e,t){var r=e.textStyle();r||(r=MSTextStyle.styleWithAttributes(MSDefaultTextStyle.defaultTextStyle()),e.setTextStyle(r));var n=nr(e);n=t(n.mutableCopy()),r.setAttributes(n)}function ar(e,t){ir(e,function(e){var r=e[NSParagraphStyleAttributeName];return r||(r=NSParagraphStyle.defaultParagraphStyle()),r=t(r.mutableCopy()),e[NSParagraphStyleAttributeName]=r,e})}function cr(e,t){return(e&t)==t}var ur={none:0,solid:0,double:9,thick:2,single:1,"dash-dot-dot":1024,"dash-dot":768,dash:512,dot:256,"by-word":32768};function sr(e){if(e){var t=[];if(cr(e,ur.double)?t.push("double"):cr(e,ur.thick)?t.push("thick"):cr(e,ur.single)&&t.push("single"),cr(e,ur["dash-dot-dot"])?t.push("dash-dot-dot"):cr(e,ur["dash-dot"])?t.push("dash-dot"):cr(e,ur.dash)?t.push("dash"):cr(e,ur.dot)&&t.push("dot"),cr(e,ur["by-word"])&&t.push("by-word"),t.length)return t.join(" ")}}function lr(e){var t=ur[e];if(!t)throw new Error("unknown underline trait ".concat(e));return t}function fr(e){if(!e||"none"===e)return ur.none;var t=e.split(" "),r=lr(t[0]);return t.forEach(function(e,t){0!==t&&(r|=lr(e))}),r}function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hr(e,t){return!t||"object"!==br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vr,gr={Normal:0,Darken:1,Multiply:2,ColorBurn:3,Lighten:4,Screen:5,ColorDodge:6,Overlay:7,SoftLight:8,HardLight:9,Difference:10,Exclusion:11,Hue:12,Saturation:13,Color:14,Luminosity:15},jr={fills:[]},Sr={1:"Layer",2:"Text"},_r={Layer:"Layer",Text:"Text"},Or=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||((e=Object.assign({},jr,e)).sketchObject=MSDefaultStyle.defaultStyle()),hr(this,dr(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(t,ee),r=t,o=[{key:"colorFromString",value:function(e){return He(e)}},{key:"colorToString",value:function(e){return Je(e)}}],(n=[{key:"isOutOfSyncWithSharedStyle",value:function(e){return!!ie(e).sketchObject.isOutOfSyncWithInstance(this._object)}},{key:"syncWithSharedStyle",value:function(e){this._object.syncWithTemplateInstance(ie(e).style.sketchObject)}},{key:"getParentLayer",value:function(){return this._object.parentLayer?ie(this._object.parentLayer()):null}},{key:"getDefaultLineHeight",value:function(){if(this._object.parentLayer){var e=this._object.parentLayer();if(e){var t=String(e.class());if("MSTextLayer"===t||"MSImmutableTextLayer"===t){var r="MSImmutableTextLayer"===t?e:e.immutableModelObject(),n=r.createTextStorage().layoutManagers().firstObject();return Number(r.defaultLineHeight(n))}}}}}])&&yr(r.prototype,n),o&&yr(r,o),t}();function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nr(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Or.type=te.Style,Or._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){pr(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(Or,MSStyle),Or.GradientType={Linear:"Linear",Radial:"Radial",Angular:"Angular"},Or.define("opacity",{get:function(){return this._object.contextSettings().opacity()},set:function(e){this._object.contextSettings().setOpacity(Math.min(Math.max(e,0),1))}}),Or.BlendingMode={Normal:"Normal",Darken:"Darken",Multiply:"Multiply",ColorBurn:"ColorBurn",Lighten:"Lighten",Screen:"Screen",ColorDodge:"ColorDodge",Overlay:"Overlay",SoftLight:"SoftLight",HardLight:"HardLight",Difference:"Difference",Exclusion:"Exclusion",Hue:"Hue",Saturation:"Saturation",Color:"Color",Luminosity:"Luminosity"},Or.define("blendingMode",{get:function(){var e=this._object.contextSettings().blendMode();return Object.keys(gr).find(function(t){return gr[t]===e})||e},set:function(e){var t=gr[e];this._object.contextSettings().setBlendMode(void 0!==t?t:e)}}),Or.Arrowhead=St,Or.LineEnd=Ot,Or.LineJoin=Pt,Or.define("borderOptions",{get:function(){return Nt.fromNative(this._object)},set:function(e){Nt.updateNative(this._object,e)}}),Or.BlurType=Ft,Or.define("blur",{get:function(){return Et.fromNative(this._object.blur())},set:function(e){Et.updateNative(this._object.blur(),e)}}),Or.FillType={Color:"Color",Gradient:"Gradient",Pattern:"Pattern",Noise:"Noise",color:"Color",gradient:"Gradient",pattern:"Pattern",noise:"Noise"},Or.PatternFillType={Tile:"Tile",Fill:"Fill",Stretch:"Stretch",Fit:"Fit"},Or.NoiseType={Original:"Original",Black:"Black",White:"White",Color:"Color"},Or.define("fills",{array:!0,get:function(){return Object(h.toArray)(this._object.fills()).map(Ht.fromNative.bind(Ht))},set:function(e){var t=e.map(Ht.toNative.bind(Ht));this._object.setFills(t)},insertItem:function(e,t){var r=Object(h.toArray)(this._object.fills());return r.splice(t,0,e),this.fills=r,Ht.fromNative(Ht.toNative(e))},removeItem:function(e){var t=Object(h.toArray)(this._object.fills()),r=t.splice(e,1);return this.fills=t,Ht.fromNative(r[0])}}),Or.BorderPosition={Center:"Center",Inside:"Inside",Outside:"Outside",Both:"Both"},Or.define("borders",{array:!0,get:function(){return Object(h.toArray)(this._object.borders()).map($t.fromNative.bind($t))},set:function(e){var t=e.map($t.toNative.bind($t));this._object.setBorders(t)},insertItem:function(e,t){var r=Object(h.toArray)(this._object.borders());return r.splice(t,0,e),this.borders=r,$t.fromNative($t.toNative(e))},removeItem:function(e){var t=Object(h.toArray)(this._object.borders()),r=t.splice(e,1);return this.borders=t,$t.fromNative(r[0])}}),Or.define("shadows",{array:!0,get:function(){return Object(h.toArray)(this._object.shadows()).map(yt.fromNative.bind(yt))},set:function(e){var t=e.map(yt.toNative.bind(yt,MSStyleShadow));this._object.setShadows(t)},insertItem:function(e,t){var r=Object(h.toArray)(this._object.shadows());return r.splice(t,0,e),this.shadows=r,yt.fromNative(yt.toNative(MSStyleShadow,e))},removeItem:function(e){var t=Object(h.toArray)(this._object.shadows()),r=t.splice(e,1);return this.shadows=t,yt.fromNative(r[0])}}),Or.define("innerShadows",{array:!0,get:function(){return Object(h.toArray)(this._object.innerShadows()).map(yt.fromNative.bind(yt))},set:function(e){var t=e.map(yt.toNative.bind(yt,MSStyleInnerShadow));this._object.setInnerShadows(t)},insertItem:function(e,t){var r=Object(h.toArray)(this._object.innerShadows());return r.splice(t,0,e),this.innerShadows=r,yt.fromNative(yt.toNative(MSStyleInnerShadow,e))},removeItem:function(e){var t=Object(h.toArray)(this._object.innerShadows()),r=t.splice(e,1);return this.innerShadows=t,yt.fromNative(r[0])}}),Or.StyleType=_r,Or.define("styleType",{get:function(){return this._object.textStyle()&&this._object.textStyle().attributes()[NSFontAttributeName]?_r.Text:_r.Layer}}),(vr=Or).define("alignment",{get:function(){var e=or(this._object);if(e){var t=e.alignment();return er[t]||t}},set:function(e){this.isImmutable()||ar(this._object,function(t){var r=Qt[e];return t.setAlignment(void 0!==r?r:e),t})}}),vr.define("verticalAlignment",{get:function(){var e=this._object.textStyle();if(e){var t=e.verticalAlignment();return rr[t]||t}},set:function(e){if(!this.isImmutable()){var t=this._object.textStyle();t||(t=MSTextStyle.styleWithAttributes({}),this._object.setTextStyle(t));var r=tr[e];t.verticalAlignment=void 0!==r?r:e}}}),vr.define("kerning",{get:function(){var e=nr(this._object);if(e){var t=e[NSKernAttributeName];return null===t?null:_(t)}},set:function(e){this.isImmutable()||ir(this._object,function(t){return t[NSKernAttributeName]=e,t})}}),vr.define("lineHeight",{get:function(){var e=or(this._object);if(e){var t=e.minimumLineHeight();return t>0&&t==e.maximumLineHeight()?_(t):null}},set:function(e){this.isImmutable()||ar(this._object,function(t){return t.minimumLineHeight=e,t.maximumLineHeight=e,t.lineSpacing=0,t})}}),vr.define("paragraphSpacing",{get:function(){var e=or(this._object);if(e)return _(e.paragraphSpacing())},set:function(e){this.isImmutable()||ar(this._object,function(t){return t.paragraphSpacing=e,t.lineSpacing=e,t})}}),vr.define("textColor",{get:function(){var e=nr(this._object);if(e){var t=e.MSAttributedStringColorAttribute;return ze.from(t||"#000000FF").toString()}},set:function(e){if(!this.isImmutable()){var t=ze.from(e);ir(this._object,function(e){return e.MSAttributedStringColorAttribute=t.toMSImmutableColor(),e})}}}),vr.define("fontSize",{get:function(){var e=nr(this._object);if(e){var t=e[NSFontAttributeName];if(t)return Number(t.pointSize())}},set:function(e){this.isImmutable()||ir(this._object,function(t){var r=t[NSFontAttributeName],n=NSFontManager.sharedFontManager().convertFont_toSize(r,e);return n?(t[NSFontAttributeName]=n,t):t})}}),vr.define("textTransform",{get:function(){var e=nr(this._object);if(e){var t=e.MSAttributedStringTextTransformAttribute;return t?1==t?"uppercase":2==t?"lowercase":void 0:"none"}},set:function(e){if(!this.isImmutable()){var t=String(e),r=null;"uppercase"===t?r=1:"lowercase"===t?r=2:"none"!==t&&e&&(r=e),ir(this._object,function(e){return e.MSAttributedStringTextTransformAttribute=r,e})}}}),vr.define("fontFamily",{get:function(){var e=nr(this._object);if(e){var t=e[NSFontAttributeName];if(t){var r=String(t.familyName());return".SF NS Text"===r?"system":r}}},set:function(e){this.isImmutable()||ir(this._object,function(t){var r=t[NSFontAttributeName];if("system"===e){var n=NSFont.systemFontOfSize(16);e=n.familyName()}var o=NSFontManager.sharedFontManager().convertFont_toFamily(r,e);return o?(t[NSFontAttributeName]=o,t):t})}}),vr.define("fontWeight",{get:function(){var e=nr(this._object);if(e){var t=e[NSFontAttributeName];if(t)return Number(NSFontManager.sharedFontManager().weightOfFont(t))}},set:function(e){this.isImmutable()||ir(this._object,function(t){var r=t[NSFontAttributeName],n=NSFontManager.sharedFontManager();r=n.convertFont_toNotHaveTrait(r,NSBoldFontMask);var o=n.fontWithFamily_traits_weight_size(r.familyName(),n.traitsOfFont(r),e,r.pointSize());return o?(t[NSFontAttributeName]=o,t):t})}}),vr.define("fontStyle",{get:function(){var e=nr(this._object);if(e){var t=e[NSFontAttributeName];if(t)return NSFontManager.sharedFontManager().fontNamed_hasTraits(t.fontName(),NSItalicFontMask)?"italic":void 0}},set:function(e){this.isImmutable()||ir(this._object,function(t){var r,n=t[NSFontAttributeName],o=NSFontManager.sharedFontManager();if("normal"!==e&&e){if("italic"!==e&&"oblique"!==e)throw new Error("Unknown font style");r=o.convertFont_toHaveTrait(n,NSItalicFontMask)}else r=o.convertFont_toNotHaveTrait(n,NSItalicFontMask);return r?(t[NSFontAttributeName]=r,t):t})}}),vr.define("fontVariant",{get:function(){var e=nr(this._object);if(e){var t=e[NSFontAttributeName];if(t)return NSFontManager.sharedFontManager().fontNamed_hasTraits(t.fontName(),NSSmallCapsFontMask)?"small-caps":void 0}},set:function(e){this.isImmutable()||ir(this._object,function(t){var r,n=t[NSFontAttributeName],o=NSFontManager.sharedFontManager();if("normal"!==e&&e){if("small-caps"!==e)throw new Error("Unknown font variant");r=o.convertFont_toHaveTrait(n,NSSmallCapsFontMask)}else r=o.convertFont_toNotHaveTrait(n,NSSmallCapsFontMask);return r?(t[NSFontAttributeName]=r,t):t})}}),vr.define("fontStretch",{get:function(){var e=nr(this._object);if(e){var t=e[NSFontAttributeName];if(t){var r=NSFontManager.sharedFontManager().traitsOfFont(t);return cr(r,NSCompressedFontMask)?"compressed":cr(r,NSCondensedFontMask)?"condensed":cr(r,NSExpandedFontMask)?"expanded":cr(r,NSNarrowFontMask)?"narrow":cr(r,NSPosterFontMask)?"poster":void 0}}},set:function(e){this.isImmutable()||ir(this._object,function(t){var r,n=t[NSFontAttributeName],o=NSFontManager.sharedFontManager();if("normal"!==e&&e)if("compressed"===e)r=o.convertFont_toHaveTrait(n,NSCompressedFontMask);else if("condensed"===e)r=o.convertFont_toHaveTrait(n,NSCondensedFontMask);else if("expanded"===e)r=o.convertFont_toHaveTrait(n,NSExpandedFontMask);else if("narrow"===e)r=o.convertFont_toHaveTrait(n,NSNarrowFontMask);else{if("poster"!==e)throw new Error("Unknown font stretch");r=o.convertFont_toHaveTrait(n,NSPosterFontMask)}else r=o.convertFont_toNotHaveTrait(n,NSCompressedFontMask|NSCondensedFontMask|NSExpandedFontMask|NSNarrowFontMask|NSPosterFontMask);return r?(t[NSFontAttributeName]=r,t):t})}}),vr.define("textUnderline",{get:function(){var e=nr(this._object);if(e)return sr(e[NSUnderlineStyleAttributeName])},set:function(e){this.isImmutable()||ir(this._object,function(t){return t[NSUnderlineStyleAttributeName]=fr(e),t})}}),vr.define("textStrikethrough",{get:function(){var e=nr(this._object);if(e)return sr(e[NSStrikethroughStyleAttributeName])},set:function(e){this.isImmutable()||ir(this._object,function(t){return t[NSStrikethroughStyleAttributeName]=fr(e),t})}});var Dr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.sketchObject)throw new Error("Cannot create a SharedStyle directly, use `document.sharedLayerStyles.push({ name, style })` (or `document.sharedTextStyles`) instead.");return Nr(this,Ir(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mr(e,t)}(t,ee),r=t,o=[{key:"fromStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.name,n=e.style,o=e.document;console.warn("`SharedStyle.fromStyle({ name, style, document })` is deprecated. Use `document.sharedLayerStyles.push({ name, style })` (or `document.sharedTextStyles`) instead.");var i=ie(o)._getMSDocumentData(),a=ie(n,te.Style),c=t.fromNative(MSSharedStyle.alloc().initWithName_style(r,a.sketchObject));return i.sharedObjectContainerOfType(a.sketchObject.type()).addSharedObject(c._object),c}}],(n=[{key:"getAllInstances",value:function(){return Object(h.toArray)(this._object.allInstances()).map(ie)}},{key:"getAllInstancesLayers",value:function(){return Object(h.toArray)(this._object.allLayersInstances()).map(ie)}},{key:"getLibrary",value:function(){var e=AppController.sharedInstance().librariesController().libraryForShareableObject(this._object);if(!e){var t=this._object.foreignObject();return t?{type:te.Library,id:String(t.libraryID()),name:String(t.sourceLibraryName()),enabled:!1,valid:!1}:null}return ie(e)}},{key:"syncWithLibrary",value:function(){var e=AppController.sharedInstance().librariesController(),t=e.libraryForShareableObject(this._object);if(!t)return!1;var r=this._object.foreignObject();return!!r&&(e.syncForeignObject_withMaster_fromLibrary(r,null,t),!0)}},{key:"unlinkFromLibrary",value:function(){if(!AppController.sharedInstance().librariesController().libraryForShareableObject(this._object))return!1;var e=this._object.foreignObject();return!!e&&(e.unlinkFromRemote(),!0)}}])&&kr(r.prototype,n),o&&kr(r,o),t}();function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tr(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Dr.type=te.SharedStyle,Dr._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Pr(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(Dr,MSSharedStyle),Dr.StyleType=_r,Dr.define("styleType",{get:function(){return Sr[this._object.type()]||this._object.type()}}),Dr.define("name",{get:function(){return String(this._object.name())},set:function(e){this._object.name=e}}),Dr.define("style",{get:function(){return ie(this._object.style())},set:function(e){if(this._object.isForeign())throw new Error("Can not set the style of a shared style coming from a library");this._object.updateToMatch(ie(e).sketchObject)}});var Er=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tr(this,Fr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(t,Ue),t}();function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Br(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Er._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Cr(e,t,r[t])})}return e}({},Ue._DefinedPropertiesKey),re.registerClass(Er,MSStyledLayer),re.registerClass(Er,MSImmutableStyledLayer),Er.define("style",{get:function(){return Or.fromNative(this._object.style())},set:function(e){this.isImmutable()||(Object(h.isNativeObject)(e)?this._object.style=e.copy():e&&e.sketchObject?this._object.style=e.sketchObject.copy():this._object.style=new Or(e).sketchObject)}}),Er.define("sharedStyleId",{get:function(){var e=this._object.sharedStyleID();return e?String(e):null},set:function(e){this.isImmutable()||(e?this._object.setSharedStyleID(e):this._object.setSharedStyleID(null))}}),Er.define("sharedStyle",{enumerable:!1,exportable:!1,get:function(){if(!this._object.sharedStyle)return null;var e=this._object.sharedStyle();return e?Dr.fromNative(e):null},set:function(e){if(!this.isImmutable())if(e){var t=ie(e);this._object.setSharedStyleID(t.id)}else this._object.setSharedStyleID(null)}});var Ur=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),Br(this,Wr(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,Er),r=t,(n=[{key:"detach",value:function(e){if(this.isImmutable())return null;var t=(e||{}).recursively||!1,r=this._object.detachStylesAndReplaceWithGroupRecursively(t);return r?ie(r):null}},{key:"setOverrideValue",value:function(e,t){if(this.isImmutable())return this;var r=ie(e),n=r.sketchObject.overridePoint();return"image"===r.property?this._object.setValue_forOverridePoint(_e.from(t).sketchObject,n):"stringValue"===r.property?this._object.setValue_forOverridePoint(String(t),n):this._object.setValue_forOverridePoint(t,n),this}}])&&Kr(r.prototype,n),o&&Kr(r,o),t}();function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jr(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ur.type=te.SymbolInstance,Ur._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Rr(e,t,r[t])})}return e}({},Er._DefinedPropertiesKey),re.registerClass(Ur,MSSymbolInstance),re.registerClass(Ur,MSImmutableSymbolInstance),delete Ur._DefinedPropertiesKey.sharedStyle,Ur.define("symbolId",{depends:"parent",get:function(){return String(this._object.symbolID())},set:function(e){if(!this.isImmutable()){var t=this._object.parentPage();if(!t)throw new Error("A symbol instance needs to be inserted in a page before setting the symbolId");var r=t.documentData().symbolWithID(e);this.master=r}}}),Ur.define("master",{exportable:!1,enumerable:!1,get:function(){return this._object.symbolMaster()?ie(this._object.symbolMaster()):null},set:function(e){if(!this.isImmutable()){var t=ie(e);this._object.changeInstanceToSymbol(t.sketchObject)}}}),Ur.define("overrides",{get:function(){var e=this;if(this._object.availableOverrides)return Object(h.toArray)(MSAvailableOverride.flattenAvailableOverrides(this._object.availableOverrides())).map(function(t){var r=Ie.fromNative(t);return Object.defineProperty(r,"__symbolInstance",{writable:!1,enumerable:!1,value:e}),r})},set:function(){throw new Error("Cannot set the overrides directly. Set the value of each overrides instead.")}});var Yr,Xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jr(this,zr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(t,ee),t}();function Zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Xr.type=te.DataOverride,Xr._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Hr(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),"undefined"!=typeof MSDataOverride&&re.registerClass(Xr,MSDataOverride),Xr.define("override",{get:function(){return Ie.fromNative(this._object.availableOverride())}}),Xr.define("symbolInstance",{get:function(){return Ur.fromNative(this._object.symbolInstance())}}),Xr.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.overrideIdentifier())}});var $r={compact:!1,"include-namespaces":!1,compression:1,"group-contents-only":!1,overwriting:!1,progressive:!1,"save-for-web":!1,"use-id-for-name":!1,trimmed:!1,output:"~/Documents/Sketch Exports"};function Qr(e){var t=MSJSONDataArchiver.new();t.archiveObjectIDs=!0;var r=MOPointer.alloc().init(),n=e.immutableModelObject?e.immutableModelObject():e;if(t.archivedDataWithRootObject_error(n,r),r.value())throw Error("Couldn’t create the JSON string: ".concat(r.value()));return t.archivedData()}function en(e,t){var n=(Array.isArray(e)?e:[e]).map(function(e){return v(e)?e.sketchObject:e}).filter(function(e){return e});if(!n.length)throw new Error("No objects provided to export");var o=(t||{}).formats||[];"string"==typeof o&&(o=o.split(",")),0===(o=o.map(function(e){return e.trim()})).length&&o.push("png");var i=-1!==o.indexOf("json"),a=o.filter(function(e){return"json"!==e}),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Zr(e,t,r[t])})}return e}({},$r,t,{formats:a.join(",")});if(!c.output){if(o.length>1)throw new Error("Can only return 1 format with no output type");var u=o[0],s=n.map(function(e){if("json"===u){var t=function(e){var t=Qr(e);return String(NSString.alloc().initWithData_encoding(t,NSUTF8StringEncoding))}(e);return JSON.parse(t)}return function(e,t){var n=e.isKindOfClass(MSPage),o=MSSelfContainedHighLevelExporter.alloc().initWithOptions(t),i=o.formatsToExport(),a=n?o.rectToExportForPage(e):CGRectNull,c=o.exportRequestsForLayer_inRect_exportFormats(e,a,i)[0],u=NSColorSpace.colorSpaceForSketchColorSpace(c.immutableDocument().colorSpace()),s=MSExporter.exporterForRequest_colorSpace_driver(c,u,o.driver()).data();return Yr||(Yr=r(1).Buffer),Yr.from(s)}(e,c)});return Array.isArray(e)?s:s[0]}return i&&function(e,t){var r=NSFileManager.defaultManager(),n=NSString.stringWithString(t.output).stringByExpandingTildeInPath(),o=String(n).split("/");r.createDirectoryAtPath_withIntermediateDirectories_attributes_error(n,!0,null,null),e.forEach(function(e){var r=!0!==t["use-id-for-name"]&&e.name?e.name():e.objectID(),n=o.slice();n.push("".concat(r,".json"));var i=NSURL.fileURLWithPath(n.join("/")),a=Qr(e),c=t.overwriting?0:NSDataWritingWithoutOverwriting,u=MOPointer.new();if(a.writeToURL_options_error(i,c,u),u.value())throw new Error("Error writing json file ".concat(u.value()))})}(n,c),a.length&&function(e,t){var r=[],n=[];e.forEach(function(e){e.isKindOfClass(MSPage)?r.push(e):n.push(e)});var o=MSSelfContainedHighLevelExporter.alloc().initWithOptions(t);r.forEach(o.exportPage),n.length&&o.exportLayers(n)}(n,c),!0}function tn(e,t){var r=t||MSArchiveHeader.metadataForNewHeader().version,n=MOPointer.new(),o=MSJSONDictionaryUnarchiver.unarchiveObjectFromDictionary_asVersion_corruptionDetected_error(e,r,null,n);if(n.value())throw new Error("Failed to create object from sketch JSON: ".concat(n.value()));return o.newMutableCounterpart&&(o=o.newMutableCounterpart()),oe(o)}function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function on(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),on(this,an(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,Er),t}();function sn(e,t){var r;return r=he.Buffer.isBuffer(e)?e.toNSData():Object(h.isNativeObject)(e)&&e.isKindOfClass(NSData)?e:he.Buffer.from(e).toNSData(),t.prepareToImportFromData(r),oe(t.importAsLayer())}un.type=te.Image,un._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){nn(e,t,r[t])})}return e}({},Er._DefinedPropertiesKey),re.registerClass(un,MSBitmapLayer),re.registerClass(un,MSImmutableBitmapLayer),un.define("image",{get:function(){return _e.fromNative(this._object.image())},set:function(e){if(!this.isImmutable()){var t=_e.from(e);this._object.setImage(t.sketchObject)}}});var ln=function(e,t){switch(t){case"svg":return function(e){return sn(e,MSSVGImporter.svgImporter())}(e);case"pdf":return function(e){return sn(e,MSPDFImporter.pdfImporter())}(e);case"eps":return function(e){return sn(e,MSPDFImporter.epsImporter())}(e);case"bitmap":return new un({image:e});default:throw new Error("Can't import ".concat(t))}};function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),yn(this,hn(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,Er),r=t,(n=[{key:"pageRectToLocalRect",value:function(e){return console.warn("Group.pageRectToLocalRect(rect) is deprecated. Use rect.changeBasis({ to: group }) instead"),e.changeBasis({to:this})}},{key:"adjustToFit",value:function(){return this.isImmutable()?this:(this._object.fixGeometryWithOptions(0),this)}}])&&pn(r.prototype,n),o&&pn(r,o),t}();function vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}mn.type=te.Group,mn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){bn(e,t,r[t])})}return e}({},Er._DefinedPropertiesKey),re.registerClass(mn,MSLayerGroup),re.registerClass(mn,MSImmutableLayerGroup),mn.define("layers",{array:!0,get:function(){return Object(h.toArray)(this._object.layers()).map(oe)},set:function(e){this.isImmutable()||(this._object.removeAllLayers(),this._object.addLayers(Object(h.toArray)(e).map(ie).map(function(e){return e._object})))},insertItem:function(e,t){if(!this.isImmutable()){var r=ie(e);return r._object.parentGroup()&&r._object.removeFromParent(),this._object.insertLayer_atIndex(r._object,t),r}},removeItem:function(e){if(!this.isImmutable()){var t=oe(this._object.layers()[e]);return this._object.removeLayerAtIndex(e),t}}});var gn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._object=t._object}var t,r,n;return t=e,(r=[{key:"forEach",value:function(e){return this.layers.forEach(e)}},{key:"map",value:function(e){return this.layers.map(e)}},{key:"reduce",value:function(e,t){return this.layers.reduce(e,t)}},{key:"clear",value:function(){return this._object.changeSelectionBySelectingLayers(null),this}},{key:"layers",get:function(){return Object(h.toArray)(this._object.selectedLayers().layers()).map(oe)},set:function(e){this._object.changeSelectionBySelectingLayers((e.layers||e).map(function(e){return ie(e).sketchObject}))}},{key:"length",get:function(){return this._object.selectedLayers().layers().count()}},{key:"isEmpty",get:function(){return 0===this.length}}])&&vn(t.prototype,r),n&&vn(t,n),e}();function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function On(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().init()),On(this,wn(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(t,mn),r=t,(n=[{key:"adjustToFit",value:function(){}},{key:"duplicate",value:function(){var e=this._object,t=e.copy();return e.documentData().insertPage_afterPage(t,e),oe(t)}},{key:"remove",value:function(){return this.isImmutable()?this:(this._object.documentData().removePages_detachInstances([this._object],!0),this)}},{key:"moveToFront",value:function(){return this}},{key:"moveToBack",value:function(){return this}},{key:"moveForward",value:function(){return this}},{key:"moveBackward",value:function(){return this}},{key:"getParentPage",value:function(){}}])&&_n(r.prototype,n),o&&_n(r,o),t}();function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mn(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}kn.type=te.Page,kn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Sn(e,t,r[t])})}return e}({},mn._DefinedPropertiesKey),re.registerClass(kn,MSPage),re.registerClass(kn,MSImmutablePage),delete kn._DefinedPropertiesKey.flow,delete kn._DefinedPropertiesKey.style,delete kn._DefinedPropertiesKey.locked,delete kn._DefinedPropertiesKey.hidden,delete kn._DefinedPropertiesKey.exportFormats,delete kn._DefinedPropertiesKey.transform,kn.define("parent",{enumerable:!1,exportable:!1,get:function(){return oe(this._object.documentData())},set:function(e){this.isImmutable()||(this._object.documentData()&&this._object.documentData().removePages_detachInstances([this._object],!1),(e=ie(e))&&("function"==typeof e._object.addPage?e._object.addPage(this._object):e._object.documentData().addPage(this._object)))}}),kn.define("index",{exportable:!1,get:function(){var e=this._object;return parseInt(e.parentGroup().indexOfLayer_(e),10)}}),kn.define("selected",{get:function(){return!!this._object.documentData()&&this._object.documentData().currentPage()==this._object},set:function(e){this.isImmutable()||(e?this._object.documentData().setCurrentPage(this._object):this._object.documentData().setCurrentPageIndex(0))}}),kn.define("selectedLayers",{enumerable:!1,exportable:!1,importable:!1,get:function(){return new gn(this)}});var Cn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mn(this,Dn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(t,ee),t}();function Tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Cn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){In(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),delete Cn._DefinedPropertiesKey.id,Cn.define("name",{get:function(){var e=this._object.name();return e?String(e):null},set:function(e){this._object.name=e}});var Kn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),En(this,Ln(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,Cn),r=t,o=[{key:"from",value:function(e){if(e){var r;if(Object(h.isNativeObject)(e))if(e.isKindOfClass(MSColorAsset))r=e;else try{var n=ze.from(e).toMSColor();r=MSColorAsset.alloc().initWithAsset_name(n,null)}catch(t){throw new Error("Cannot create a color asset from a ".concat(String(e.class())))}else if("object"==Fn(e)){var o=e.color,i=e.name,a=ze.from(o).toMSColor();r=MSColorAsset.alloc().initWithAsset_name(a,i||null)}else{var c=ze.from(e).toMSColor();r=MSColorAsset.alloc().initWithAsset_name(c,null)}return t.fromNative(r)}}}],(n=null)&&An(r.prototype,n),o&&An(r,o),t}();function Bn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Un(e,t){return!t||"object"!==Wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Kn.type=te.ColorAsset,Kn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Tn(e,t,r[t])})}return e}({},Cn._DefinedPropertiesKey),re.registerClass(Kn,MSColorAsset),Kn.define("color",{get:function(){return Je(this._object.color())}});var Jn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Un(this,Vn(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,Cn),r=t,o=[{key:"from",value:function(e){if(e){if(Object(h.isNativeObject)(e)){var r=String(e.class());if("MSGradientAsset"===r)return t.fromNative(e);if("MSGradient"===r){var n=MSGradientAsset.alloc().initWithAsset_name(e,null);return t.fromNative(n)}throw new Error("Cannot create a color asset from a ".concat(r))}var o,i;if(v(e)?o=e:"object"==Wn(e)&&(null!=e.gradient?(o=e.gradient,i=e.name,v(o)||(o=ut.from(o))):o=ut.from(e)),!o)throw new Error("Cannot create a gradient asset without a gradient");if("Gradient"!==o.type)throw new Error("Cannot create a gradient asset from a ".concat(o.type));var a=MSGradientAsset.alloc().initWithAsset_name(o._object,i||null);return t.fromNative(a)}}}],(n=null)&&Gn(r.prototype,n),o&&Gn(r,o),t}();function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xn(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Jn.type=te.GradientAsset,Jn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Bn(e,t,r[t])})}return e}({},Cn._DefinedPropertiesKey),re.registerClass(Jn,MSGradientAsset),Jn.define("gradient",{get:function(){return ut.from(this._object.gradient())}});var eo={Save:NSSaveOperation,SaveTo:NSSaveToOperation,SaveAs:NSSaveAsOperation};function to(){var e=NSDocumentController.sharedDocumentController();return Object(h.toArray)(e.documents()).map(no.fromNative.bind(no))}function ro(){var e;("undefined"!=typeof context&&(e=context.actionContext&&context.actionContext.document?context.actionContext.document:context.document),e)||(e=NSDocumentController.sharedDocumentController().currentDocument());e||(e=Qn(NSApplication.sharedApplication().orderedDocuments(),1)[0]);if(e)return no.fromNative(e)}var no=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.sketchObject){var r=NSDocumentController.sharedDocumentController(),n=MOPointer.alloc().init();if(e.sketchObject=r.openUntitledDocumentAndDisplay_error(!0,n),null!==n.value())throw new Error(n.value());if(!e.sketchObject)throw new Error("could not create a new Document")}return Xn(this,Zn(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(t,ee),r=t,o=[{key:"getDocuments",value:function(){return to()}},{key:"getSelectedDocument",value:function(){return ro()}},{key:"open",value:function(e,r){"function"==typeof e&&(r=e,e=void 0);var n,o=NSDocumentController.sharedDocumentController();if(!e){var i=NSOpenPanel.openPanel();if(i.allowedFileTypes=["sketch"],i.canChooseFiles=!0,i.canChooseDirectories=!1,i.allowsMultipleSelection=!1,i.runModal()!=NSOKButton)return void(r&&r(null,void 0));var a=i.URLs()[0],c=coscript.createFiber();o.openDocumentWithContentsOfURL_display_context_callback(a,!0,coscript,function(e,n,o){try{r&&(o&&!o.isEqual(NSNull.null())?r(new Error(o.description())):r(null,t.fromNative(e))),c.cleanup()}catch(e){throw c.cleanup(),e}});var u=o.currentDocument();return t.fromNative(u)}var s=g(e);if(o.documentForURL(s))return n=t.fromNative(o.documentForURL(s)),r&&r(null,n),n;var l=MOPointer.alloc().init();if(n=o.openDocumentWithContentsOfURL_display_error(s,!0,l),null!==l.value())throw new Error(l.value());return n=t.fromNative(n),r&&r(null,n),n}}],(n=[{key:"_getMSDocument",value:function(){var e=this._object;return e&&"MSDocumentData"===String(e.class())&&(e=e.delegate()),e}},{key:"_getMSDocumentData",value:function(){var e=this._object;return!e||"MSDocumentData"!==String(e.class())&&"MSImmutableDocumentData"!==String(e.class())?e.documentData():e}},{key:"getLayerWithID",value:function(e){var t=this._getMSDocumentData().layerWithID(e);if(t)return ie(t)}},{key:"getLayersNamed",value:function(e){for(var t=NSArray.array(),r=this._object.pages().objectEnumerator(),n=r.nextObject(),o=NSPredicate.predicateWithFormat("name == %@",e);n;){var i=n.children();t=t.arrayByAddingObjectsFromArray(i.filteredArrayUsingPredicate(o)),n=r.nextObject()}return Object(h.toArray)(t).map(ie)}},{key:"getSymbolMasterWithID",value:function(e){var t=this._getMSDocumentData().symbolWithID(e);if(t)return ie(t)}},{key:"getSymbols",value:function(){var e=this._getMSDocumentData();return Object(h.toArray)(e.allSymbols()).map(ie)}},{key:"_getSharedStyleWithIdAndType",value:function(e,t){var r=this._getMSDocumentData()[t===_r.Layer?"layerStyleWithID":"textStyleWithID"](e);if(r)return ie(r)}},{key:"getSharedLayerStyleWithID",value:function(e){return this._getSharedStyleWithIdAndType(e,_r.Layer)}},{key:"getSharedLayerStyles",value:function(){console.warn("`document.getSharedLayerStyles()` is deprecated. Use `document.sharedLayerStyles` instead.");var e=this._getMSDocumentData();return Object(h.toArray)(e.allLayerStyles()).map(ie)}},{key:"getSharedTextStyleWithID",value:function(e){return this._getSharedStyleWithIdAndType(e,_r.Text)}},{key:"getSharedTextStyles",value:function(){console.warn("`document.getSharedTextStyles()` is deprecated. Use `document.sharedTextStyles` instead.");var e=this._getMSDocumentData();return Object(h.toArray)(e.allTextStyles()).map(ie)}},{key:"centerOnLayer",value:function(e){if(!this.isImmutable()){var t=ie(e);this._object.contentDrawView().centerRect_(t.sketchObject.rect())}}},{key:"save",value:function(e,t,r){"function"==typeof t?(r=t,t={}):"function"==typeof e&&(r=e,t={},e=void 0);var n=this._getMSDocument();if(n&&n.saveToURL_ofType_forSaveOperation_completionHandler)if(e||this._tempURL){var o=g(e)||this._tempURL,i=t||{},a=i.saveMode,c=i.iKnowThatImOverwritingAFolder;if(!(o.pathExtension()&&String(o.pathExtension())||c))throw new Error("Attempting to overwrite a folder! If you really mean to do that, set the `iKnowThatImOverwritingAFolder` option to `true`");var u=coscript.createFiber(),s=eo[a]||a||NSSaveAsOperation,l=this;n.saveDocumentToURL_saveMode_context_callback(o,s,coscript,function(e){try{r&&(e&&!e.isEqual(NSNull.null())?r(new Error(e.description()),l):r(null,l)),u.cleanup()}catch(e){throw u.cleanup(),e}})}else try{n.saveDocument(null),r&&r(null,this)}catch(e){r&&r(e,this)}else r&&r(new Error("Cannot save this document"),this)}},{key:"close",value:function(){var e=this._getMSDocument();if(!e||!e.close)throw new Error("Cannot close this document");e.close()}}])&&Yn(r.prototype,n),o&&Yn(r,o),t}();function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ao(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uo(e,t){return(uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function so(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}no.type=te.Document,no._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){qn(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(no,MSDocumentData),re.registerClass(no,MSImmutableDocumentData),"undefined"!=typeof MSDocument&&re.registerClass(no,MSDocument),no.SaveMode=eo,no.define("id",{exportable:!0,importable:!1,get:function(){if(this._object)return this._object.objectID?String(this._object.objectID()):String(this._object.documentData().objectID())}}),no.define("pages",{array:!0,get:function(){return this._object?Object(h.toArray)(this._object.pages()).map(function(e){return kn.fromNative(e)}):[]},set:function(e){var t=this;this.isImmutable()||(this._object.removePages_detachInstances(this._object.pages(),!0),Object(h.toArray)(e).map(function(e){return ie(e,te.Page)}).forEach(function(e){e.parent=t}))},insertItem:function(e,t){if(!this.isImmutable()){var r=ie(e,te.Page);return r._object.documentData()&&r._object.documentData().removePages_detachInstances([r._object],!1),"function"==typeof this._object.insertPage_atIndex?this._object.insertPage_atIndex(r._object,t):this._object.documentData().insertPage_atIndex(r._object,t),r}},removeItem:function(e){if(!this.isImmutable()){var t=this._object.pages()[e];return this._object.removePages_detachInstances([t],!0),kn.fromNative(t)}}}),no.define("selectedLayers",{enumerable:!1,exportable:!1,importable:!1,get:function(){return new gn(this.selectedPage)},set:function(e){this.selectedPage.sketchObject.changeSelectionBySelectingLayers((e.layers||e||[]).map(function(e){return ie(e).sketchObject}))}}),no.define("selectedPage",{enumerable:!1,exportable:!1,importable:!1,get:function(){return kn.fromNative(this._object.currentPage())},set:function(e){var t=ie(e,te.Page);t._object.documentData()&&String(t._object.documentData().objectID())!==this.id&&(t._object.documentData().removePages_detachInstances([t._object],!1),t.parent=this),t.selected=!0}}),no.define("path",{get:function(){var e=this._tempURL||(this._getMSDocument()||{fileURL:function(){}}).fileURL();if(e)return String(e.absoluteString()).replace("file://","")},set:function(e){if(!this.isImmutable()){var t=g(e);Object.defineProperty(this,"_tempURL",{enumerable:!1,value:t})}}}),no.define("colors",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(h.toArray)(e.assets().colorAssets()).map(function(e){return Kn.fromNative(e)})},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().assets();t.removeAllColorAssets(),Object(h.toArray)(e).map(function(e){return Kn.from(e)}).forEach(function(e){t.addColorAsset(e._object)})}},insertItem:function(e,t){if(!this.isImmutable()){var r=this._getMSDocumentData().assets(),n=Kn.from(e);return r.insertColorAsset_atIndex(n._object,t),n}},removeItem:function(e){if(!this.isImmutable())return this._getMSDocumentData().assets().removeColorAssetAtIndex(e)}}),no.define("gradients",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(h.toArray)(e.assets().gradientAssets()).map(function(e){return Jn.fromNative(e)})},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().assets();t.removeAllGradientAssets(),Object(h.toArray)(e).map(function(e){return Jn.from(e)}).forEach(function(e){t.addGradientAsset(e._object)})}},insertItem:function(e,t){if(!this.isImmutable()){var r=this._getMSDocumentData().assets(),n=Jn.from(e);return r.insertGradientAsset_atIndex(n._object,t),n}},removeItem:function(e){if(!this.isImmutable())return this._getMSDocumentData().assets().removeGradientAssetAtIndex(e)}}),no.define("sharedLayerStyles",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(h.toArray)(e.allLayerStyles()).map(ie)},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().sharedObjectContainerOfType(1);t.removeAllSharedObjects(),t.addSharedObjects(Object(h.toArray)(e).map(function(e){var t;if(v(e))t=e.sketchObject;else if(Object(h.isNativeObject)(e))t=e;else{var r=ie(e.style,te.Style);t=MSSharedStyle.alloc().initWithName_style(e.name,r.sketchObject)}return t}))}},insertItem:function(e,t){if(!this.isImmutable()){var r,n=this._getMSDocumentData();if(v(e))r=e.sketchObject;else if(Object(h.isNativeObject)(e))r=e;else{var o=ie(e.style,te.Style);r=MSSharedStyle.alloc().initWithName_style(e.name,o.sketchObject)}return n.sharedObjectContainerOfType(1).insertSharedObject_atIndex(r,t),new Dr({sketchObject:r})}},removeItem:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData(),r=t.sharedObjectContainerOfType(1),n=t.allLayerStyles()[e];return r.removeSharedObjectAtIndex(e),ie(n,te.SharedStyle)}}}),no.define("sharedTextStyles",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(h.toArray)(e.allTextStyles()).map(ie)},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().sharedObjectContainerOfType(2);t.removeAllSharedObjects(),t.addSharedObjects(Object(h.toArray)(e).map(function(e){var t;if(v(e))t=e.sketchObject;else if(Object(h.isNativeObject)(e))t=e;else{var r=ie(e.style,te.Style);t=MSSharedStyle.alloc().initWithName_style(e.name,r.sketchObject)}return t}))}},insertItem:function(e,t){if(!this.isImmutable()){var r,n=this._getMSDocumentData();if(v(e))r=e.sketchObject;else if(Object(h.isNativeObject)(e))r=e;else{var o=ie(e.style,te.Style);r=MSSharedStyle.alloc().initWithName_style(e.name,o.sketchObject)}return n.sharedObjectContainerOfType(2).insertSharedObject_atIndex(r,t),new Dr({sketchObject:r})}},removeItem:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData(),r=t.sharedObjectContainerOfType(2),n=t.allTextStyles()[e];return r.removeSharedObjectAtIndex(e),ie(n,te.SharedStyle)}}});var lo={Symbol:0,LayerStyle:1,TextStyle:2,Unknown:3},fo={Symbol:"Symbol",LayerStyle:"LayerStyle",TextStyle:"TextStyle",Unknown:"Unknown"},bo=function(e){function t(){var e,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!o.sketchObject)throw new Error("Cannot create a ImportableObject directly");return r=this,e=!(n=co(t).call(this,o))||"object"!==oo(n)&&"function"!=typeof n?so(r):n,Object.defineProperty(so(so(e)),"_documentData",{enumerable:!1,writable:!0}),e}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(t,ee),r=t,(n=[{key:"import",value:function(){if(!this._documentData)throw new Error("missing document data");var e=this._object.shareableObject&&this._object.shareableObject();if(e&&!this._object.sourceLibrary())switch(this.objectType){case fo.Symbol:var t=this._documentData.symbolWithID(this._object.sharedObjectID());return t?oe(t):void 0;case fo.LayerStyle:var r=this._documentData.layerStyleWithID(this._object.sharedObjectID());return r?oe(r):void 0;case fo.TextStyle:var n=this._documentData.textStyleWithID(this._object.sharedObjectID());return n?oe(n):void 0;default:throw new Error("Cannot import an already imported object other than a Symbol or a Shared Style")}if(!(e=AppController.sharedInstance().librariesController().importShareableObjectReference_intoDocument(this._object,this._documentData)))throw new Error("Could not import the Object");return oe(e.localObject())}}])&&ao(r.prototype,n),o&&ao(r,o),t}();function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ho(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mo(e,t){return!t||"object"!==po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}bo.type=te.ImportableObject,bo._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){io(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),"undefined"!=typeof MSShareableObjectReference&&(re.registerClass(bo,MSShareableObjectReference),re.registerClass(bo,MSSymbolMasterReference),re.registerClass(bo,MSSharedStyleReference),re.registerClass(bo,MSSharedLayerReference),re.registerClass(bo,MSSharedTextReference)),bo.define("id",{exportable:!0,importable:!1,get:function(){var e=this._object.sharedObjectID();if(e)return String(e)}}),bo.define("name",{exportable:!0,importable:!1,get:function(){return String(this._object.name())}}),bo.define("objectType",{exportable:!0,importable:!1,get:function(){var e=this._object.shareableObjectType();return Object.keys(lo).find(function(t){return lo[t]===e})||e}}),bo.define("library",{exportable:!1,enumerable:!1,get:function(){return oe(this._object.sourceLibrary())}});var jo={0:"ok",1:"the library has already been added",2:"the document is not in the new JSON format",3:"there was a problem reading the asset library file"},So={0:"Internal",1:"User",2:"Remote"};function _o(){var e=AppController.sharedInstance().librariesController();return Object(h.toArray)(e.libraries()).map(Oo.fromNative.bind(Oo))}var Oo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.sketchObject)throw new Error("Cannot create a new Library directly");return mo(this,vo(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(t,ee),r=t,o=[{key:"getLibraries",value:function(){return _o()}},{key:"getLibraryForDocumentAtPath",value:function(e){for(var r=g(e),n=AppController.sharedInstance().librariesController(),o=n.libraries(),i=0;i<o.count();i+=1){var a=o.objectAtIndex(i),c=a.locationOnDisk();if(c&&c.isEqual(r))return t.fromNative(a)}var u=n.addAssetLibraryAtURL(r);if(0!==u)throw new Error("Error while adding the library: ".concat(jo[u],"."));var s=n.userLibraries().firstObject();if(!s)throw new Error("could not find the added library");return n.notifyLibraryChange(s),t.fromNative(s)}},{key:"getRemoteLibraryWithRSS",value:function(e,r){var n=NSURL.URLWithString(e),o=AppController.sharedInstance().librariesController(),i=o.remoteLibraryWithAppcast(n);if(i)r(null,t.fromNative(i));else{var a=coscript.createFiber();o.addRemoteLibraryFromAppcastURL_context_callback(n,coscript,function(e,n){try{n&&!n.isEqual(NSNull.null())?r(new Error(n.description())):r(null,t.fromNative(e)),a.cleanup()}catch(e){throw a.cleanup(),e}})}}}],(n=[{key:"getDocument",value:function(){if(!this._object.document()&&!this._object.loadSynchronously())throw new Error("could not get the document: ".concat(this._object.status));var e=no.fromNative(this._object.document());return this._object.appcastURL?e._tempURL=this._object.appcastURL():this._object.locationOnDisk&&(e._tempURL=this._object.locationOnDisk()),e}},{key:"getImportableReferencesForDocument",value:function(e,t){var r;switch(t){case fo.Symbol:r=MSForeignSymbolProvider.alloc().initWithDocument(ie(e).sketchObject);break;case fo.LayerStyle:r=MSSharedLayerStyleProvider.alloc().initWithDocument(ie(e).sketchObject);break;case fo.TextStyle:r=MSSharedTextStyleProvider.alloc().initWithDocument(ie(e).sketchObject);break;default:throw new Error("Unknown object type")}var n=MSForeignObjectCollector.alloc().initWithProvider(r).buildCollectionWithFilter(null),o=this.id,i=this.name,a=Object(h.toArray)(n).find(function(e){return e.library&&String(e.library.libraryID())===o&&String(e.library.name())===i});if(!a)return[];var c=m(e);return Object(h.toArray)(a.objectRefs).map(function(e){var t=bo.fromNative(e);return t._documentData=c,t})}},{key:"getImportableSymbolReferencesForDocument",value:function(e){return this.getImportableReferencesForDocument(e,fo.Symbol)}},{key:"getImportableLayerStyleReferencesForDocument",value:function(e){return this.getImportableReferencesForDocument(e,fo.LayerStyle)}},{key:"getImportableTextStyleReferencesForDocument",value:function(e){return this.getImportableReferencesForDocument(e,fo.TextStyle)}},{key:"remove",value:function(){AppController.sharedInstance().librariesController().removeAssetLibrary(this._object)}}])&&ho(r.prototype,n),o&&ho(r,o),t}();function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ko(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function No(e,t){return!t||"object"!==wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Oo.type=te.Library,Oo._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){yo(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),"undefined"!=typeof MSAssetLibrary&&(re.registerClass(Oo,MSAssetLibrary),re.registerClass(Oo,MSUserAssetLibrary),re.registerClass(Oo,MSRemoteAssetLibrary)),Oo.ImportableObjectType=fo,Oo.define("id",{exportable:!0,importable:!1,get:function(){var e=this._object.libraryID();if(e)return String(e)}}),Oo.define("name",{exportable:!0,importable:!1,get:function(){return String(this._object.name())}}),Oo.define("valid",{exportable:!0,importable:!1,get:function(){return!!this._object.valid()}}),Oo.define("enabled",{get:function(){return!!this._object.enabled()},set:function(e){this._object.setEnabled(e)}}),Oo.define("lastModifiedAt",{exportable:!0,importable:!1,get:function(){var e=this._object.dateLastModified();if(e)return new Date(1e3*e.timeIntervalSince1970())}}),Oo.LibraryType={Internal:"Internal",User:"User",Remote:"Remote"},Oo.define("libraryType",{exportable:!0,importable:!1,get:function(){var e=this._object.libraryType();return So[e]||e}});var Do=0,xo=1,Co={variable:1,constantBaseline:2},To=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r.sketchObject||(r.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),e=No(this,Io(t).call(this,r)),r.frame||e.adjustToFit(),e}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(t,Er),r=t,(n=[{key:"adjustToFit",value:function(){return this.isImmutable()?this:(this._object.adjustFrameToFit(),this)}},{key:"font",set:function(e){console.warn("`Text.font` is deprecated. Use `Text.style.fontFamily` instead"),this.isImmutable()||(this._object.font=e)}},{key:"systemFontSize",set:function(e){console.warn('`Text.systemFontSize = size` is deprecated. Use `Text.style.fontFamily = "system"; Text.style.fontSize = size` instead.'),this.isImmutable()||this._object.setFont(NSFont.systemFontOfSize_(e))}},{key:"fragments",get:function(){for(var e=this.text,t=this._object,r=(this.isImmutable()?t.createTextStorage():t.immutableModelObject().createTextStorage()).layoutManagers().firstObject(),n=r.textContainers().firstObject(),o=r.numberOfGlyphs(),i=t.drawingPointForText(),a=[],c=0;c<o;){var u=NSMakeRange(0,0),s=MOPointer.alloc().initWithValue(u);r.lineFragmentRectForGlyphAtIndex_effectiveRange(c,s);var l=s.value(),f=NSMaxRange(l),b=Math.min(f,o)-c,p=e.substr(c,b),y=p.trimRight();b-=p.length-y.length;var h=NSMakeRange(c,b),d=r.boundingRectForGlyphRange_inTextContainer(h,n),m=new De(d.origin.x+i.x,d.origin.y+i.y,d.size.width,d.size.height),v=r.typesetter().baselineOffsetInLayoutManager_glyphIndex(r,c);a.push({rect:m,baselineOffset:v,range:l}),c=f}return a}}])&&ko(r.prototype,n),o&&ko(r,o),t}();function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eo(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}To.type=te.Text,To._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Po(e,t,r[t])})}return e}({},Er._DefinedPropertiesKey),re.registerClass(To,MSTextLayer),re.registerClass(To,MSImmutableTextLayer),To.define("text",{get:function(){return String(this._object.stringValue())},set:function(e){if(!this.isImmutable()){var t=this._object;t.replaceTextPreservingAttributeRanges(e),t.updateNameFromStorage()}}}),To.Alignment={left:"left",right:"right",center:"center",justified:"justified",natural:"natural"},To.VerticalAlignment={top:"top",center:"center",bottom:"bottom"},To.define("alignment",{enumerable:!1,exportable:!1,get:function(){return console.warn("`Text.alignment` is deprecated. Use `Text.style.alignment` instead"),this.style.alignment},set:function(e){console.warn("`Text.alignment` is deprecated. Use `Text.style.alignment` instead"),this.style.alignment=e}}),To.LineSpacing={variable:"variable",constantBaseline:"constantBaseline"},To.define("lineSpacing",{get:function(){var e=this._object.lineSpacingBehaviour();return Object.keys(Co).find(function(t){return Co[t]===e})||e},set:function(e){if(!this.isImmutable()){var t=Co[e],r=void 0!==t?t:e,n=this._object,o=n.immutableModelObject().textLayout(),i=o.firstBaselineOffset();n.lineSpacingBehaviour=r;var a=o.firstBaselineOffset(),c=this.frame;c.y-=a-i,this.frame=c}}}),To.define("fixedWidth",{get:function(){return this._object.textBehaviour()===xo},set:function(e){this.isImmutable()||(this._object.textBehaviour=e?xo:Do)}});var Ko=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r.sketchObject)e=Eo(this,Lo(t).call(this,r));else if(r.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect()),e=Eo(this,Lo(t).call(this,r)),!r.layers){var n=e._object.frame();e.sketchObject.addLayer(MSRectangleShape.alloc().initWithFrame(CGRectMake(0,0,n.width(),n.height())))}return Eo(e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(t,mn),t}();function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ko.type=te.Shape,Ko._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Ao(e,t,r[t])})}return e}({},mn._DefinedPropertiesKey),re.registerClass(Ko,MSShapeGroup),re.registerClass(Ko,MSImmutableShapeGroup);var Ho={Undefined:0,Straight:1,Mirrored:2,Asymmetric:3,Disconnected:4,Rounded:5},Jo=function(e){function t(){var e,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o.sketchObject||(o.sketchObject=MSCurvePoint.new()),r=this,e=!(n=Go(t).call(this,o))||"object"!==Bo(n)&&"function"!=typeof n?Vo(r):n,Object.defineProperty(Vo(Vo(e)),"_parent",{enumerable:!1,writable:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}(t,ee),t}();function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Jo.type=te.CurvePoint,Jo._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Wo(e,t,r[t])})}return e}({},ee._DefinedPropertiesKey),re.registerClass(Jo,MSCurvePoint),delete Jo._DefinedPropertiesKey.id,Jo.define("cornerRadius",{get:function(){return parseFloat(this._object.cornerRadius())},set:function(e){this._object.setCornerRadius(e),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),Jo.define("curveFrom",{get:function(){var e=new tt(this._object.curveFrom());return e._parent=this,e._parentKey="curveFrom",e},set:function(e){this._object.setCurveFrom(NSMakePoint(e.x,e.y)),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),Jo.define("curveTo",{get:function(){var e=new tt(this._object.curveTo());return e._parent=this,e._parentKey="curveTo",e},set:function(e){this._object.setCurveTo(NSMakePoint(e.x,e.y)),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),Jo.define("point",{get:function(){var e=new tt(this._object.point());return e._parent=this,e._parentKey="point",e},set:function(e){this._object.setPoint(NSMakePoint(e.x,e.y)),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),Jo.PointType={Undefined:"Undefined",Straight:"Straight",Mirrored:"Mirrored",Asymmetric:"Asymmetric",Disconnected:"Disconnected"},Jo.define("pointType",{get:function(){var e=this._object.curveMode();return Object.keys(Ho).find(function(t){return Ho[t]===e})||e},set:function(e){if(e){var t=Ho[e];this._object.setCurveMode(void 0!==t?t:e)}else this._object.setCurveMode(0);this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}});var Qo={Rectangle:"Rectangle",Oval:"Oval",Polygon:"Polygon",Star:"Star",Triangle:"Triangle",Custom:"Custom"},ei={MSRectangleShape:Qo.Rectangle,MSShapePathLayer:Qo.Custom,MSImmutableShapePathLayer:Qo.Custom,MSOvalShape:Qo.Oval,MSPolygonShape:Qo.Polygon,MSStarShape:Qo.Star,MSTriangleShape:Qo.Triangle,MSImmutableOvalShape:Qo.Oval,MSImmutablePolygonShape:Qo.Polygon,MSImmutableRectangleShape:Qo.Rectangle,MSImmutableStarShape:Qo.Star,MSImmutableTriangleShape:Qo.Triangle},ti={Rectangle:MSRectangleShape,Oval:MSOvalShape,Polygon:MSPolygonShape,Star:MSStarShape,Triangle:MSTriangleShape,Custom:MSRectangleShape},ri=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r.sketchObject?e=Xo(this,Zo(t).call(this,r)):(r.sketchObject=ti[r.shapeType||Qo.Custom].alloc().initWithFrame(new De(0,0,100,100).asCGRect()),r.shapeType!==Qo.Polygon&&r.shapeType!==Qo.Star||r.sketchObject.resetPoints(),e=Xo(this,Zo(t).call(this,r))),Xo(e)}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,Er),r=t,o=[{key:"fromSVGPath",value:function(e){var t=MOPointer.alloc().init();return new this({sketchObject:MSShapePathLayer.layerWithPath(MSPath.pathWithBezierPath(SVGPathInterpreter.bezierPathFromCommands_isPathClosed(e,t)))})}}],(n=[{key:"getSVGPath",value:function(){var e=NSBezierPath.bezierPathWithPath(this._object.pathInFrameWithTransforms());return String(e.svgPathAttribute()).replace(/^d="/g,"").replace(/"$/g,"")}}])&&Yo(r.prototype,n),o&&Yo(r,o),t}();function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ii(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ai(e,t){return!t||"object"!==ni(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ri.type=te.ShapePath,ri._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){qo(e,t,r[t])})}return e}({},Er._DefinedPropertiesKey),re.registerClass(ri,MSRectangleShape),re.registerClass(ri,MSShapePathLayer),re.registerClass(ri,MSImmutableShapePathLayer),re.registerClass(ri,MSOvalShape),re.registerClass(ri,MSPolygonShape),re.registerClass(ri,MSStarShape),re.registerClass(ri,MSTriangleShape),re.registerClass(ri,MSImmutableOvalShape),re.registerClass(ri,MSImmutablePolygonShape),re.registerClass(ri,MSImmutableRectangleShape),re.registerClass(ri,MSImmutableStarShape),re.registerClass(ri,MSImmutableTriangleShape),ri.ShapeType=Qo,ri.define("shapeType",{get:function(){return ei[String(this._object.class())]}}),ri.define("points",{get:function(){var e=this;return Object(h.toArray)(this._object.points()).map(function(t){var r=Jo.fromNative(t);return r._parent=e._object,r})},set:function(e){if(!this.isImmutable()){this._object.setEdited(!0),this._object.removeAllCurvePoints();var t=e.map(function(e){return ie(e,te.CurvePoint).sketchObject});this._object.addCurvePoints(t),this._object.adjustFrameAfterEditIntegral_fixAncestors(!1,!0)}}}),ri.define("closed",{get:function(){return Boolean(Number(this._object.isClosed()))},set:function(e){this.isImmutable()||(this._object.setEdited(!0),this._object.setIsClosed(e),this._object.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}});var si=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),ai(this,ci(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}(t,mn),r=t,(n=[{key:"adjustToFit",value:function(){return this._object.resizeToFitChildren(),this}},{key:"getParentArtboard",value:function(){}}])&&ii(r.prototype,n),o&&ii(r,o),t}();function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pi(e,t){return!t||"object"!==li(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yi(e){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hi(e,t){return(hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}si.type=te.Artboard,si._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){oi(e,t,r[t])})}return e}({},mn._DefinedPropertiesKey),re.registerClass(si,MSArtboardGroup),re.registerClass(si,MSImmutableArtboardGroup),delete si._DefinedPropertiesKey.flow,delete si._DefinedPropertiesKey.style,delete si._DefinedPropertiesKey.locked,delete si._DefinedPropertiesKey.hidden,delete si._DefinedPropertiesKey.transform,si.define("flowStartPoint",{get:function(){return!!this._object.isFlowHome()},set:function(e){this.isImmutable()||(this._object.isFlowHome=e)}}),si.defineObject("background",{enabled:{get:function(){return Boolean(Number(this._object.hasBackgroundColor()))},set:function(e){this._parent.isImmutable()||this._object.setHasBackgroundColor(e)}},includedInExport:{get:function(){return Boolean(Number(this._object.includeBackgroundColorInExport()))},set:function(e){this._parent.isImmutable()||this._object.setIncludeBackgroundColorInExport(e)}},color:{get:function(){return Je(this._object.backgroundColor())},set:function(e){this._parent.isImmutable()||this._object.setBackgroundColor(ze.from(e).toMSColor())}}});var di=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),pi(this,yi(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hi(e,t)}(t,si),r=t,o=[{key:"fromArtboard",value:function(e){var r=ie(e);return t.fromNative(MSSymbolMaster.convertArtboardToSymbol(r.sketchObject))}}],(n=[{key:"toArtboard",value:function(){var e=MSSymbolMaster.convertSymbolToArtboard(this._object);return si.fromNative(e)}},{key:"createNewInstance",value:function(){return ie(this._object.newSymbolInstance())}},{key:"getAllInstances",value:function(){return Object(h.toArray)(this._object.allInstances()).map(ie)}},{key:"getLibrary",value:function(){var e=AppController.sharedInstance().librariesController().libraryForShareableObject(this._object);if(!e){var t=this._object.foreignObject();return t?{type:te.Library,id:String(t.libraryID()),name:String(t.sourceLibraryName()),enabled:!1,valid:!1}:null}return ie(e)}},{key:"syncWithLibrary",value:function(){if(this.isImmutable())return!1;var e=AppController.sharedInstance().librariesController(),t=e.libraryForShareableObject(this._object);if(!t)return!1;var r=this._object.foreignObject();return!!r&&(e.syncForeignObject_withMaster_fromLibrary(r,null,t),!0)}},{key:"unlinkFromLibrary",value:function(){if(this.isImmutable())return!1;if(!AppController.sharedInstance().librariesController().libraryForShareableObject(this._object))return!1;var e=this._object.foreignObject();return!!e&&(e.unlinkFromRemote(),!0)}}])&&bi(r.prototype,n),o&&bi(r,o),t}();function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ji(e,t){return!t||"object"!==mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}di.type=te.SymbolMaster,di._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){fi(e,t,r[t])})}return e}({},si._DefinedPropertiesKey),re.registerClass(di,MSSymbolMaster),re.registerClass(di,MSImmutableSymbolMaster),di.define("symbolId",{get:function(){return String(this._object.symbolID())},set:function(){throw new Error("Changing the symbol ID of a SymbolMaster is forbidden.")}}),di.define("overrides",{get:function(){var e=this;if(this._object.overrideProperies){var t=this._object.overrideProperies();return Object(h.toArray)(MSAvailableOverride.flattenAvailableOverrides(this._object.availableOverrides())).map(function(r){var n=Ie.fromNative(r),o=t[r.overridePoint().name()];return Object.defineProperty(n,"__symbolMaster",{writable:!1,enumerable:!1,value:e}),o&&!r.isVisible&&Object.defineProperty(n,"__editable",{writable:!0,enumerable:!1,value:o.canOverride}),n})}},set:function(e){var t=this;e.forEach(function(e){var r=MSOverridePoint.alloc().init();r.name=e.id,t._object.setOverridePoint_editable(r,e.editable)})}}),di.extendObject("background",{includedInInstance:{get:function(){return Boolean(Number(this._object.includeBackgroundColorInInstance()))},set:function(e){this._parent.isImmutable()||this._object.setIncludeBackgroundColorInInstance(e)}}});var Oi=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),ji(this,Si(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(t,Ue),r=t,o=[{key:"fromLayer",value:function(e){var r=ie(e);if(!r||!r.flow||!r.flow.targetId)throw new Error("Can only create a HotSpot from a layer with an existing flow");return new t({sketchObject:MSHotspotLayer.hotspotLayerFromLayer(r.sketchObject)})}}],(n=null)&&gi(r.prototype,n),o&&gi(r,o),t}();function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ki(e,t){return!t||"object"!==wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ii(e,t){return(Ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Oi.type=te.HotSpot,Oi._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){vi(e,t,r[t])})}return e}({},Ue._DefinedPropertiesKey),re.registerClass(Oi,MSHotspotLayer),re.registerClass(Oi,MSImmutableHotspotLayer),delete Oi._DefinedPropertiesKey.exportFormats,delete Oi._DefinedPropertiesKey.transform;var Mi=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=re.createNative(t).alloc().initWithFrame(new De(0,0,100,100).asCGRect())),ki(this,Ni(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ii(e,t)}(t,Ue),t}();function Di(){var e=MSPersistentAssetCollection.sharedGlobalAssets().colorAssets();return Object(h.toArray)(e).map(function(e){return Kn.fromNative(e)})}function xi(){var e=MSPersistentAssetCollection.sharedGlobalAssets().gradientAssets();return Object(h.toArray)(e).map(function(e){return Jn.fromNative(e)})}Mi.type=te.Slice,Mi._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Pi(e,t,r[t])})}return e}({},Ue._DefinedPropertiesKey),re.registerClass(Mi,MSSliceLayer),re.registerClass(Mi,MSImmutableSliceLayer),delete Mi._DefinedPropertiesKey.flow,delete Mi._DefinedPropertiesKey.transform;var Ci={AnimationType:{none:"none",slideFromRight:"slideFromRight",slideFromLeft:"slideFromLeft",slideFromBottom:"slideFromBottom",slideFromTop:"slideFromTop"},BackTarget:"back"},Ti={sketch:MSApplicationMetadata.metadata().appVersion,api:"2.0.0"};r.d(t,"export",function(){return en}),r.d(t,"fromSketchJSON",function(){return tn}),r.d(t,"createLayerFromData",function(){return ln}),r.d(t,"Document",function(){return no}),r.d(t,"getDocuments",function(){return to}),r.d(t,"getSelectedDocument",function(){return ro}),r.d(t,"Library",function(){return Oo}),r.d(t,"getLibraries",function(){return _o}),r.d(t,"SharedStyle",function(){return Dr}),r.d(t,"Rectangle",function(){return De}),r.d(t,"Style",function(){return Or}),r.d(t,"Group",function(){return mn}),r.d(t,"Text",function(){return To}),r.d(t,"Image",function(){return un}),r.d(t,"Shape",function(){return Ko}),r.d(t,"ShapePath",function(){return ri}),r.d(t,"Artboard",function(){return si}),r.d(t,"Page",function(){return kn}),r.d(t,"SymbolMaster",function(){return di}),r.d(t,"SymbolInstance",function(){return Ur}),r.d(t,"HotSpot",function(){return Oi}),r.d(t,"Slice",function(){return Mi}),r.d(t,"Types",function(){return te}),r.d(t,"fromNative",function(){return ie}),r.d(t,"getGlobalColors",function(){return Di}),r.d(t,"getGlobalGradients",function(){return xi}),r.d(t,"Flow",function(){return Ci}),r.d(t,"version",function(){return Ti}),r.d(t,"Async",function(){return n}),r.d(t,"DataSupplier",function(){return o}),r.d(t,"Settings",function(){return i}),r.d(t,"UI",function(){return a})}]);