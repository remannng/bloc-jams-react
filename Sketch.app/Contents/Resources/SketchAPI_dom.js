module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=require("util")},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";r.r(t);var n=r(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}var b=function(){function e(t){s(this,e),Object.defineProperty(this,"_object",{enumerable:!1,value:t.sketchObject}),Object.defineProperty(this,"type",{enumerable:!0,value:this.constructor.type}),this.update(t)}return f(e,[{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.constructor._DefinedPropertiesKey;Object.keys(t).sort(function(e,t){return r[e]&&r[e].depends&&r[e].depends===t?1:r[t]&&r[t].depends&&r[t].depends===e?-1:0}).forEach(function(n){r[n]?r[n].importable&&(e[n]=t[n]):n&&"_"!==n[0]&&console.warn('no idea what to do with "'.concat(n,'" in ').concat(e.type))})}},{key:"toJSON",value:function(){var e=this,t=this.constructor._DefinedPropertiesKey,r={};return Object.keys(t).forEach(function(n){if(t[n].exportable){var o=e[n];o&&Array.isArray(o)?r[n]=o.map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}):o&&"function"==typeof o.toJSON?r[n]=o.toJSON():void 0!==o&&(r[n]=o)}}),r}},{key:"isImmutable",value:function(){return/Immutable/.test(String(this.sketchObject.className()))}},{key:"isEqual",value:function(e){return this.sketchObject==e.sketchObject}}],[{key:"fromNative",value:function(e){return e?new this({sketchObject:e}):e}},{key:"define",value:function(e,t){if(this._addDescriptor(e,t),t.array&&void 0!==t.set){if(!t.insertItem||!t.removeItem)throw new Error("missing method to mutate the array");var r=t.get;t.get=function(){var e=this,n=r.bind(this)();return Array.isArray(n)?(n.reverse=function(){Array.prototype.reverse.apply(n),t.set.bind(e)(n)},n.sort=function(r){Array.prototype.reverse.apply(n,[r]),t.set.bind(e)(n)},n.fill=function(r,o,i){Array.prototype.reverse.apply(n,[r,o,i]),t.set.bind(e)(n)},n.splice=function(r,o){r<0&&(r+=n.length),(!r||r<0||r>n.length)&&(r=0),(void 0===o||o>n.length-r)&&(o=n.length-r);for(var i=[],a=r;a<o+r;a+=1)i.push(t.removeItem.bind(e)(a));for(var c=[],u=arguments.length,s=new Array(u>2?u-2:0),l=2;l<u;l++)s[l-2]=arguments[l];return s.forEach(function(n,o){c.push(t.insertItem.bind(e)(n,r+o))}),Array.prototype.splice.apply(n,[r,o].concat(c)),i},n.push=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.splice.apply(n,[n.length,0].concat(t)),n.length},n.unshift=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.splice.apply(n,[0,0].concat(t)),n.length},n.pop=function(){return n.splice(n.length-1)[0]},n.shift=function(){return n.splice(0,1)[0]},n):n}}Object.defineProperty(this.prototype,e,t)}},{key:"defineObject",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="_".concat(e),o="_".concat(e,"Class"),i=function(){function e(r){s(this,e);var n=this;Object.defineProperty(n,"_parent",{enumerable:!1,value:r}),Object.defineProperty(n,"_object",{enumerable:!1,value:r.sketchObject}),Object.defineProperty(n,"_keys",{enumerable:!1,writable:!0,value:Object.keys(t)}),n._keys.forEach(function(e){Object.defineProperty(n,e,t[e])})}return f(e,[{key:"toJSON",value:function(){var e=this;return this._keys.reduce(function(t,r){return t[r]=e[r],t},{})}}]),e}();this[o]=i;var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){u(e,t,r[t])})}return e}({},r,{get:function(){if(this[n])return this[n];var e=this.constructor[o];return Object.defineProperty(this,n,{enumerable:!1,value:new e(this)}),this[n]},set:function(t){var r=this[e];Object.keys(t).forEach(function(e){r[e]=t[e]})}});this._addDescriptor(e,a),Object.defineProperty(this.prototype,e,a)}},{key:"extendObject",value:function(e,t){var r="_".concat(e,"Class");if(!this[r])throw new Error("missing super class");var n=function(e){function r(e){var n;s(this,r),n=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}(this,i(r).call(this,e));var a=c(c(n)),u=Object.keys(t);return n._keys=n._keys.concat(u),u.forEach(function(e){Object.defineProperty(a,e,t[e])}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,e),r}(this[r]);this[r]=n}},{key:"_addDescriptor",value:function(e,t){t.propertyName=e,null==t.enumerable&&(t.enumerable=!0),null==t.exportable&&(t.exportable=!0),null==t.importable&&(t.importable=!0),t.importable=t.importable&&void 0!==t.set,t.exportable=t.exportable&&void 0!==t.get,"_"!==e[0]&&(this._DefinedPropertiesKey[e]=t)}}]),e}();b._DefinedPropertiesKey={},b.define("type",{exportable:!0,importable:!1,get:function(){return this.type}}),b.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.objectID())}}),b.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),b.define("_isWrappedObject",{enumerable:!1,exportable:!1,get:function(){return!0}});var y={Group:"Group",Page:"Page",Artboard:"Artboard",Shape:"Shape",Style:"Style",Blur:"Blur",Border:"Border",BorderOptions:"BorderOptions",Fill:"Fill",Gradient:"Gradient",GradientStop:"GradientStop",Shadow:"Shadow",Image:"Image",Text:"Text",Document:"Document",Library:"Library",SymbolMaster:"SymbolMaster",SymbolInstance:"SymbolInstance",Override:"Override",ImageData:"ImageData",Flow:"Flow",HotSpot:"HotSpot",ImportableObject:"ImportableObject",SharedStyle:"SharedStyle",DataOverride:"DataOverride",ShapePath:"ShapePath",Slice:"Slice",ExportFormat:"ExportFormat",CurvePoint:"CurvePoint",ColorAsset:"ColorAsset",GradientAsset:"GradientAsset"},p={_typeToBox:{},_nativeToBox:{},_typeToNative:{},registerClass:function(e,t){this._typeToBox[e.type]||(this._typeToBox[e.type]=e,this._typeToNative[e.type]=t),this._nativeToBox[String(t.class())]=e},create:function(e,t){var r=e&&e.type?e.type:e,n=this._typeToBox[r];if(n)return new n(t)},createNative:function(e){var t=e&&e.type?e.type:e,r=this._typeToNative[t];if(!r)throw new Error("don't know how to create a native ".concat(t));return r}};function h(e){return e&&e._isWrappedObject}function m(e){return"string"==typeof e?NSURL.fileURLWithPath(NSString.stringWithString(e.replace(/^file:\/\//,"")).stringByExpandingTildeInPath()):e}function d(e){Object.defineProperty(e,"_parent",{enumerable:!1,writable:!0}),Object.defineProperty(e,"_parentKey",{enumerable:!1,writable:!0}),Object.defineProperty(e,"_inArray",{enumerable:!1,writable:!0})}function v(e,t,r,n){Object.defineProperty(e,"_".concat(t),{enumerable:!1,writable:!0,value:r}),n?Object.defineProperty(e,t,{enumerable:!0,get:function(){return e["_".concat(t)]},set:function(r){e["_".concat(t)]=n(r),e._parent&&e._parentKey&&(e._inArray?e._parent[e._parentKey][e._parent[e._parentKey].indexOf(e)]=e:e._parent[e._parentKey]=e)}}):Object.defineProperty(e,t,{enumerable:!0,get:function(){return e["_".concat(t)]},set:function(r){e["_".concat(t)]=r,e._parent&&e._parentKey&&(e._inArray?e._parent[e._parentKey][e._parent[e._parentKey].indexOf(e)]=e:e._parent[e._parentKey]=e)}})}function j(e){var t=Number(e);return Number(t.toFixed(7))}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function S(e){if(e){var t=p._nativeToBox[String(e.class())];return t||(console.warn("no mapped wrapper for ".concat(String(e.class()))),t=b),t.fromNative(e)}}function _(e,t){if(e){if(Object(n.isNativeObject)(e)&&!Object(n.isObject)(e))return S(e);if(h(e))return e;var r=e.type,o=g(e,["type"]);if(!r&&!t)throw new Error('You need to specify a "type" when creating a nested layer. Received: '.concat(JSON.stringify(e,null,2)));return p.create(r||t,o)}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){P(e,t,r[t])})}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I={none:-1,slideFromRight:0,slideFromLeft:1,slideFromBottom:2,slideFromTop:3},C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,N(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,b),r=t,i=[{key:"from",value:function(e){if(h(e)&&e.type===y.Flow)return e;if(Object(n.isNativeObject)(e)){var r=String(e.class());if("MSFlowConnection"!==r)throw new Error("Cannot create a flow from a ".concat(r));return t.fromNative(e)}if(e&&(e.target||e.targetId))return new t(w({sketchObject:MSFlowConnection.new()},e));throw new Error("`flow` needs to be an object")}}],(o=[{key:"isBackAction",value:function(){return!!this._object.isBackAction()}},{key:"isValidConnection",value:function(){return!!this._object.isValidFlowConnection()}}])&&k(r.prototype,o),i&&k(r,i),t}();C.type=y.Flow,C._DefinedPropertiesKey=w({},b._DefinedPropertiesKey),p.registerClass(C,MSFlowConnection),C.define("targetId",{get:function(){return String(this._object.destinationArtboardID())},set:function(e){this._object.destinationArtboardID=e}}),C.define("target",{enumerable:!1,exportable:!1,get:function(){var e=this._object.destinationArtboard();return"back"==e?"back":_(e)},set:function(e){this._object.destinationArtboardID="back"!=e?_(e).id:"back"}}),C.define("animationType",{get:function(){var e=this._object.animationType();return Object.keys(I).find(function(t){return I[t]===e})||e},set:function(e){var t=I[e];this._object.animationType=void 0!==t?t:e}}),delete C._DefinedPropertiesKey.id;var x=r(1);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,L(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,b),r=t,i=[{key:"from",value:function(e){if(h(e)&&e.type===y.ImageData)return e;var r;if(Object(n.isNativeObject)(e))if(e.isKindOfClass(NSImage))r=e;else if(e.isKindOfClass(NSData))r=NSImage.alloc().initWithData(e);else{if(!e.isKindOfClass(NSURL)){if(e.isKindOfClass(MSImageData))return t.fromNative(e);throw new Error("Cannot create an image from a ".concat(String(e.class())))}r=NSImage.alloc().initWithContentsOfURL(e)}else if("string"==typeof e||e&&e.path)r=NSImage.alloc().initByReferencingFile(e.path||e);else if(e&&e.base64)try{var o=NSData.alloc().initWithBase64EncodedString_options(e.base64,NSDataBase64DecodingIgnoreUnknownCharacters);r=NSImage.alloc().initWithData(o)}catch(e){throw new Error(e)}else{if(!x.Buffer.isBuffer(e))throw new Error("`image` needs to be a Buffer");r=NSImage.alloc().initWithData(e.toNSData())}return t.fromNative(MSImageData.alloc().initWithImage(r))}}],(o=null)&&F(r.prototype,o),i&&F(r,i),t}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}K.type=y.ImageData,K._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){E(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(K,MSImageData),K.define("nsimage",{get:function(){return this._object.image()}}),K.define("nsdata",{get:function(){return this._object.data()}}),K.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.hash())}});var V=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,U(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,b),t}();function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}V.type=y.Override,V._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){W(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(V,MSAvailableOverride),V.define("path",{get:function(){return String(this._object.overridePoint().path())}}),V.define("property",{get:function(){return String(this._object.overridePoint().property())}}),V.define("affectedLayer",{get:function(){return S(this._object.affectedLayer())}}),V.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.overridePoint().name())}}),V.define("symbolOverride",{get:function(){return Boolean(this._object.overridePoint().isSymbolOverride())}}),V.define("value",{get:function(){var e=this._object.currentValue();return"image"===this.property?K.fromNative(e):String(this._object.currentValue())},set:function(e){if(!this.__symbolInstance)throw new Error("Can only set `value` for a symbol instance");this.__symbolInstance.setOverrideValue(this,e)}}),V.define("isDefault",{get:function(){return!this._object.hasOverride()}}),V.define("editable",{get:function(){return void 0!==this.__editable?this.__editable:Boolean(Number(this._object.isEditable()))},set:function(e){if(!this.__symbolMaster)throw new Error("Can only set `editable` for a symbol master");this.__editable=e,this.__symbolMaster.sketchObject.setOverridePoint_editable(this._object.overridePoint(),e)}});var J=function(){function e(t,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this),t&&t.origin&&Object(n.isNumber)(t.origin.x)?(v(this,"x",parseFloat(t.origin.x)),v(this,"y",parseFloat(t.origin.y)),v(this,"width",parseFloat(t.size.width)),v(this,"height",parseFloat(t.size.height))):t&&Object(n.isNumber)(t.x)?(v(this,"x",parseFloat(t.x)),v(this,"y",parseFloat(t.y)),v(this,"width",parseFloat(t.width)),v(this,"height",parseFloat(t.height))):(v(this,"x",parseFloat(t)),v(this,"y",parseFloat(r)),v(this,"width",parseFloat(o)),v(this,"height",parseFloat(i)))}var t,r,o;return t=e,(r=[{key:"offset",value:function(e,t){return this._x+=parseFloat(e),this._y+=parseFloat(t),this._parent&&this._parentKey&&(this._parent[this._parentKey]=this),this}},{key:"scale",value:function(e,t){return this._width*=parseFloat(e),this._height*=parseFloat(void 0===t?e:t),this._parent&&this._parentKey&&(this._parent[this._parentKey]=this),this}},{key:"asCGRect",value:function(){return CGRectMake(this._x,this._y,this._width,this._height)}},{key:"asNSRect",value:function(){return NSMakeRect(this._x,this._y,this._width,this._height)}},{key:"toString",value:function(){return"{".concat(this._x,", ").concat(this._y,", ").concat(this._width,", ").concat(this._height,"}")}},{key:"toJSON",value:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}}},{key:"changeBasis",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.from,n=t.to,o=_(r),i=_(n);if(!o){if(!i||!i.sketchObject||!i.sketchObject.convertPoint_fromCoordinateSpace)throw new Error("Expected a coordinate space, got ".concat(n));var a=i.sketchObject.convertPoint_fromCoordinateSpace(NSMakePoint(this.x,this.y),null);return new e(a.x,a.y,this.width,this.height)}if(!o.sketchObject||!o.sketchObject.convertPoint_toCoordinateSpace)throw new Error("Expected a coordinate space, got ".concat(r));var c=o.sketchObject.convertPoint_toCoordinateSpace(NSMakePoint(this.x,this.y),i?i.sketchObject:null);return new e(c.x,c.y,this.width,this.height)}}])&&z(t.prototype,r),o&&z(t,o),e}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=MSExportFormat.formatWithScale_name_fileFormat(1,"","png")),X(this,Z(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,b),t}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Q.type=y.ExportFormat,Q._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Y(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(Q,MSExportFormat),delete Q._DefinedPropertiesKey.id,Q.define("fileFormat",{get:function(){return String(this._object.fileFormat())},set:function(e){if(!MSExportFormat.validFormats().containsObject(e))throw new Error("File format not supported");this._object.setFileFormat(e)}}),Q.define("prefix",{get:function(){if(0!=this._object.namingScheme())return String(this._object.name())},set:function(e){this._object.setNamingScheme(1),this._object.setName(e)}}),Q.define("suffix",{get:function(){if(1!=this._object.namingScheme())return String(this._object.name())},set:function(e){this._object.setNamingScheme(0),this._object.setName(e)}}),Q.define("size",{get:function(){switch(this._object.visibleScaleType()){case 0:return"".concat(this._object.scale(),"x");case 1:return"".concat(this._object.absoluteSize(),"w");case 2:return"".concat(this._object.absoluteSize(),"h");default:throw new Error("unknown visibleScaleType")}},set:function(e){var t=String(e);if(t.endsWith("w")||t.endsWith("width")||t.endsWith("px")&&1==this._object.visibleScaleType())this._object.setVisibleScaleType(1),this._object.setScale(0),this._object.setAbsoluteSize(parseInt(t,10));else if(t.endsWith("h")||t.endsWith("height")||t.endsWith("px")&&2==this._object.visibleScaleType())this._object.setVisibleScaleType(2),this._object.setScale(0),this._object.setAbsoluteSize(parseInt(t,10));else{if(!t.endsWith("x"))throw new Error("could not parse the size");this._object.setVisibleScaleType(0),this._object.setScale(parseInt(t,10)),this._object.setAbsoluteSize(0)}}});var ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ne(this,oe(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,b),r=t,(n=[{key:"duplicate",value:function(){var e=this._object,t=e.copy();return e.parentGroup().insertLayers_afterLayer([t],e),S(t)}},{key:"remove",value:function(){if(this.isImmutable())return this;var e=this._object.parentGroup();return e&&e.removeLayer(this._object),this}},{key:"moveToFront",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveToFront([this._object]),this)}},{key:"moveForward",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveForward([this._object]),this)}},{key:"moveToBack",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveToBack([this._object]),this)}},{key:"moveBackward",value:function(){return this.isImmutable()?this:(MSLayerMovement.moveBackward([this._object]),this)}},{key:"getParentPage",value:function(){return S(this._object.parentPage())}},{key:"getParentArtboard",value:function(){return S(this._object.parentArtboard())}},{key:"getParentSymbolMaster",value:function(){return S(this._object.parentSymbol())}},{key:"getParentShape",value:function(){return S(this._object.parentShape())}},{key:"localRectToPageRect",value:function(e){return console.warn("Layer.layerRectToPageRect(rect) is deprecated. Use rect.changeBasis({ from: layer }) instead"),e.changeBasis({from:this})}},{key:"localRectToParentRect",value:function(e){return console.warn("Layer.localRectToParentRect(rect) is deprecated. Use rect.changeBasis({ from: layer, to: layer.parent }) instead"),e.changeBasis({from:this,to:this.parent})}}])&&re(r.prototype,n),o&&re(r,o),t}();function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e){return MSImmutableColor.colorWithSVGString_(e)}function se(e){function t(e){return(256|Math.round(255*e)).toString(16).slice(1)}var r=t(e.red()),n=t(e.green()),o=t(e.blue()),i=t(e.alpha());return"#".concat(r).concat(n).concat(o).concat(i)}ae._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){te(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(ae,MSLayer),p.registerClass(ae,MSImmutableLayer),ae.define("index",{exportable:!1,get:function(){var e=this._object;return parseInt(e.parentGroup().indexOfLayer_(e),10)}}),ae.define("parent",{enumerable:!1,exportable:!1,get:function(){return S(this._object.parentGroup())},set:function(e){if(!this.isImmutable()&&(this._object.parentGroup()&&this._object.removeFromParent(),e=_(e))){if(!e._object||"function"!=typeof e._object.addLayers)throw new Error("This object cannot accept layers: ".concat(e));e._object.addLayers([this._object])}}}),ae.define("frame",{get:function(){var e=this._object.frame(),t=new J(e.x(),e.y(),e.width(),e.height());return t._parent=this,t._parentKey="frame",t},set:function(e){this.isImmutable()||this._object.frame().setRect(NSMakeRect(e.x,e.y,e.width,e.height))}}),ae.define("name",{get:function(){return String(this._object.name())},set:function(e){this.isImmutable()||this._object.setName(e)}}),ae.define("selected",{get:function(){return this._object.isSelected&&!!this._object.isSelected()},set:function(e){this.isImmutable()||(e?this._object.select_byExtendingSelection(!0,!0):this._object.select_byExtendingSelection(!1,!0))}}),ae.define("flow",{get:function(){if(this._object.flow())return C.fromNative(this._object.flow())},set:function(e){this.isImmutable()||(this._object.flow=e?C.from(e).sketchObject:null)}}),ae.define("hidden",{get:function(){return!this._object.isVisible()},set:function(e){this.isImmutable()||this._object.setIsVisible(!e)}}),ae.define("locked",{get:function(){return!!this._object.isLocked()},set:function(e){this.isImmutable()||this._object.setIsLocked(e)}}),ae.define("exportFormats",{array:!0,get:function(){return Object(n.toArray)(this._object.exportOptions().exportFormats()||[]).map(Q.fromNative.bind(Q))},set:function(e){this.isImmutable()||this._object.exportOptions().setExportFormats(Object(n.toArray)(e).map(function(e){return _(e,y.ExportFormat).sketchObject}))},insertItem:function(e,t){if(!this.isImmutable()){var r=Object(n.toArray)(this._object.exportOptions().exportFormats()||[]);return r.splice(t,0,e),this.exportFormats=r,_(e,y.ExportFormat)}},removeItem:function(e){if(!this.isImmutable()){var t=Object(n.toArray)(this._object.exportOptions().exportFormats()||[]),r=t.splice(e,1);return this.exportFormats=t,Q.fromNative(r[0])}}}),ae.defineObject("transform",{rotation:{get:function(){for(var e=-Number(this._object.rotation());e<=-180;)e+=360;return 0===(e%=360)?0:e},set:function(e){this._parent.isImmutable()||this._object.applyUserVisibleRotation_explicitRotationCenter(e,null)}},flippedHorizontally:{get:function(){return Boolean(Number(this._object.isFlippedHorizontal()))},set:function(e){this._parent.isImmutable()||this._object.setIsFlippedHorizontal(e)}},flippedVertically:{get:function(){return Boolean(Number(this._object.isFlippedVertical()))},set:function(e){this._parent.isImmutable()||this._object.setIsFlippedVertical(e)}}});var le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._object=t}var t,r,o;return t=e,o=[{key:"from",value:function(t){if(t){var r;if(Object(n.isNativeObject)(t)){var o=String(t.class());if("MSColor"===o)r=MSImmutableColor.alloc().initWithMutableModelObject(t);else if("MSImmutableColor"===o)r=t;else{if("NSColor"!==o)throw new Error("Cannot create a color from a ".concat(o));r=MSImmutableColor.colorWithNSColor(t)}}else{if("string"!=typeof t)throw new Error("`color` needs to be a string");r=ue(t)}return new e(r)}}}],(r=[{key:"toString",value:function(){return se(this._object)}},{key:"toMSColor",value:function(){return this._object.newMutableCounterpart()}},{key:"toMSImmutableColor",value:function(){return this._object}}])&&ce(t.prototype,r),o&&ce(t,o),e}();function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ye(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ye(this,pe(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,b),r=t,i=[{key:"from",value:function(e){if(e){var r;if(Object(n.isNativeObject)(e)){var o=String(e.class());if("MSGradientStop"!==o&&"MSImmutableGradientStop"!==o)throw new Error("Cannot create a gradient from a ".concat(o));r=e}else r=MSGradientStop.stopWithPosition_color(e.position||0,le.from(e.color||"#000000FF").toMSColor());return t.fromNative(r)}}}],(o=null)&&be(r.prototype,o),i&&be(r,i),t}();function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}me.type=y.GradientStop,me._DefinedPropertiesKey={},me.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),me.define("position",{get:function(){return Number(this._object.position())},set:function(e){this._object.setPosition(e)}}),me.define("color",{get:function(){return se(this._object.color())},set:function(e){var t=le.from(e);this._object.color=t.toMSColor()}});var ve=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this);var o=t&&Object(n.isNumber)(t.x);v(this,"x",o?parseFloat(t.x):parseFloat(t)),v(this,"y",o?parseFloat(t.y):parseFloat(r))}var t,r,o;return t=e,(r=[{key:"asCGPoint",value:function(){return CGPointMake(this._x,this._y)}},{key:"asNSPoint",value:function(){return NSMakePoint(this._x,this._y)}},{key:"toJSON",value:function(){return{x:this._x,y:this._y}}}])&&de(t.prototype,r),o&&de(t,o),e}();function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Se(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we={Linear:0,Radial:1,Angular:2},Pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,_e(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,b),r=t,i=[{key:"from",value:function(e){if(e){var r;if(Object(n.isNativeObject)(e)){var o=String(e.class());if("MSGradient"!==o&&"MSImmutableGradient"!==o)throw new Error("Cannot create a gradient from a ".concat(o));r=e}else{if(r=MSGradient.alloc().initBlankGradient(),void 0!==e.gradientType){var i=we[e.gradientType];r.setGradientType(void 0!==i?i:e.gradientType)}e.from&&r.setFrom(CGPointMake(void 0!==e.from.x?e.from.x:.5,void 0!==e.from.y?e.from.y:0)),void 0!==e.to&&r.setTo(CGPointMake(void 0!==e.to.x?e.to.x:.5,void 0!==e.to.y?e.to.y:1)),e.stops&&r.setStops(e.stops.map(me.from).map(function(e){return e._object}))}return t.fromNative(r)}}}],(o=null)&&ge(r.prototype,o),i&&ge(r,i),t}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Pe.type=y.Gradient,Pe._DefinedPropertiesKey={},Pe.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),Pe.define("gradientType",{get:function(){var e=this;return Object.keys(we).find(function(t){return we[t]===e._object.gradientType()})||this._object.gradientType()},set:function(e){var t=we[e];this._object.setGradientType(void 0!==t?t:e)}}),Pe.define("from",{get:function(){var e=new ve(this._object.from().x,this._object.from().y);return e._parent=this,e._parentKey="from",e},set:function(e){this._object.setFrom(CGPointMake("undefined"!==e.x?e.x:.5,"undefined"!==e.y?e.y:0))}}),Pe.define("to",{get:function(){var e=new ve(this._object.to().x,this._object.to().y);return e._parent=this,e._parentKey="to",e},set:function(e){this._object.setTo(CGPointMake("undefined"!==e.x?e.x:.5,"undefined"!==e.y?e.y:1))}}),Pe.define("stops",{get:function(){return Object(n.toArray)(this._object.stops()).map(me.from.bind(me))},set:function(e){this._object.setStops(e.map(me.from.bind(me)).map(function(e){return e._object}))}});var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,De(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,b),r=t,i=[{key:"toNative",value:function(e,t){if(Object(n.isNativeObject)(t))return t;if(h(t))return t.sketchObject;var r=e.new(),o="string"==typeof t?le.from(t):le.from(t.color);return o&&(r.color=o.toMSColor()),void 0!==t.blur&&(r.blurRadius=t.blur),void 0!==t.x&&(r.offsetX=t.x),void 0!==t.y&&(r.offsetY=t.y),void 0!==t.spread&&(r.spread=t.spread),void 0===t.enabled?r.isEnabled=!0:r.isEnabled=t.enabled,r}}],(o=null)&&Me(r.prototype,o),i&&Me(r,i),t}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ee(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.type=y.Shadow,Ce._DefinedPropertiesKey={},Ce.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),Ce.define("blur",{get:function(){return Number(this._object.blurRadius())},set:function(e){this._object.blurRadius=e}}),Ce.define("x",{get:function(){return Number(this._object.offsetX())},set:function(e){this._object.offsetX=e}}),Ce.define("y",{get:function(){return Number(this._object.offsetY())},set:function(e){this._object.offsetY=e}}),Ce.define("spread",{get:function(){return Number(this._object.spread())},set:function(e){this._object.spread=e}}),Ce.define("color",{get:function(){return se(this._object.color())},set:function(e){var t=le.from(e);this._object.color=t.toMSColor()}}),Ce.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}});var Le={None:0,OpenArrow:1,FilledArrow:2,Line:3,OpenCircle:4,FilledCircle:5,OpenSquare:6,FilledSquare:7},Re={None:"None",OpenArrow:"OpenArrow",FilledArrow:"FilledArrow",ClosedArrow:"FilledArrow",Line:"Line",OpenCircle:"OpenCircle",FilledCircle:"FilledCircle",OpenSquare:"OpenSquare",FilledSquare:"FilledSquare"},Ke={Butt:0,Round:1,Projecting:2},Be={Butt:"Butt",Round:"Round",Projecting:"Projecting"},We={Miter:0,Round:1,Bevel:2},Ge={Miter:"Mitter",Round:"Round",Bevel:"Bevel"},Ue={startArrowhead:Re.None,endArrowhead:Re.None,dashPattern:[],lineEnd:Be.Butt,lineJoin:Ge.Miter},He=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(this,Fe(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,b),r=t,o=[{key:"updateNative",value:function(e,t){var r=Object.assign({},Ue,t);if(void 0!==r.startArrowhead){var n=Le[r.startArrowhead];e.setStartMarkerType(void 0!==n?n:r.startArrowhead)}if(void 0!==r.endArrowhead){var o=Le[r.endArrowhead];e.setEndMarkerType(void 0!==o?o:r.endArrowhead)}if(void 0!==r.dashPattern&&e.borderOptions().setDashPattern(r.dashPattern),void 0!==r.lineEnd){var i=Ke[r.lineEnd];e.borderOptions().setLineCapStyle(void 0!==i?i:r.lineEnd)}if(void 0!==r.lineJoin){var a=We[r.lineJoin];e.borderOptions().setLineJoinStyle(void 0!==a?a:r.lineJoin)}}}],(n=null)&&Te(r.prototype,n),o&&Te(r,o),t}();function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Je(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}He.type=y.BorderOptions,He._DefinedPropertiesKey={},He.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),He.define("startArrowhead",{get:function(){var e=this._object.startMarkerType();return Object.keys(Le).find(function(t){return Le[t]===e})||e},set:function(e){var t=Le[e];this._object.setStartMarkerType(void 0!==t?t:e)}}),He.define("endArrowhead",{get:function(){var e=this._object.endMarkerType();return Object.keys(Le).find(function(t){return Le[t]===e})||e},set:function(e){var t=Le[e];this._object.setEndMarkerType(void 0!==t?t:e)}}),He.define("dashPattern",{get:function(){return Object(n.toArray)(this._object.borderOptions().dashPattern()).map(Number)},set:function(e){this._object.borderOptions().setDashPattern(e)}}),He.define("lineEnd",{get:function(){var e=this._object.borderOptions().lineCapStyle();return Object.keys(Ke).find(function(t){return Ke[t]===e})||e},set:function(e){var t=Ke[e];this._object.borderOptions().setLineCapStyle(void 0!==t?t:e)}}),He.define("lineJoin",{get:function(){var e=this._object.borderOptions().lineJoinStyle();return Object.keys(We).find(function(t){return We[t]===e})||e},set:function(e){var t=We[e];this._object.borderOptions().setLineJoinStyle(void 0!==t?t:e)}});var Xe={Gaussian:0,Motion:1,Zoom:2,Background:3},Ze={Gaussian:"Gaussian",Motion:"Motion",Zoom:"Zoom",Background:"Background"},$e={center:{x:.5,y:.5},motionAngle:0,radius:10,enabled:!1,blurType:Ze.Gaussian},Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Je(this,qe(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,b),r=t,o=[{key:"updateNative",value:function(e,t){var r=Object.assign({},$e,t);if(void 0!==r.center&&e.setCenter(CGPointMake(r.center.x,r.center.y)),void 0!==r.motionAngle&&e.setMotionAngle(r.motionAngle),void 0!==r.radius&&e.setRadius(r.radius),void 0!==r.blurType){var n=Xe[r.blurType];e.setType(void 0!==n?n:r.blurType)}void 0!==r.enabled&&(e.isEnabled=r.enabled)}}],(n=null)&&ze(r.prototype,n),o&&ze(r,o),t}();function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Qe.type=y.Blur,Qe._DefinedPropertiesKey={},Qe.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),Qe.define("center",{get:function(){var e=new ve(this._object.center().x,this._object.center().y);return e._parent=this,e._parentKey="center",e},set:function(e){this._object.setCenter(CGPointMake(e.x,e.y))}}),Qe.define("motionAngle",{get:function(){return Number(this._object.motionAngle())},set:function(e){this._object.setMotionAngle(e)}}),Qe.define("radius",{get:function(){return Number(this._object.radius())},set:function(e){this._object.setRadius(e)}}),Qe.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}}),Qe.define("blurType",{get:function(){var e=this._object.type();return Object.keys(Xe).find(function(t){return Xe[t]===e})||e},set:function(e){var t=Xe[e];this._object.setType(void 0!==t?t:e)}});var it={Color:0,Gradient:1,Pattern:4,Noise:5},at={Tile:0,Fill:1,Stretch:2,Fit:3},ct={Original:0,Black:1,White:2,Color:3},ut=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,nt(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,b),r=t,i=[{key:"toNative",value:function(e){if(Object(n.isNativeObject)(e))return e;if(h(e))return e.sketchObject;var t=MSStyleFill.new(),r="string"==typeof e?le.from(e):le.from(e.color),o=Pe.from(e.gradient);if(r&&(t.color=r.toMSColor()),o&&(t.gradient=o._object),e.noise){if(void 0!==e.noise.noiseType){var i=ct[e.noise.noiseType];t.setNoiseIndex(void 0!==i?i:e.noise.noiseType||ct.Original)}void 0!==e.noise.intensity&&t.setNoiseIntensity(e.noise.intensity)}if(e.pattern){if(void 0!==e.pattern.patternType){var a=at[e.pattern.patternType];t.setPatternFillType(void 0!==a?a:e.pattern.patternType||at.Tile)}if(void 0!==e.pattern.tileScale&&t.setPatternTileScale(e.pattern.tileScale),void 0!==e.pattern.image){var c=K.from(e.pattern.image);t.setImage(c.sketchObject)}}var u=it[e.fill];return t.fillType=void 0!==u?u:e.fillType||it.Color,void 0===e.enabled?t.isEnabled=!0:t.isEnabled=e.enabled,t}}],(o=null)&&tt(r.prototype,o),i&&tt(r,i),t}();function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ut.type=y.Fill,ut._DefinedPropertiesKey={},ut.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),ut.define("fill",{get:function(){var e=this;return Object.keys(it).find(function(t){return it[t]===e._object.fillType()})||this._object.fillType()},set:function(e){var t=it[e];this._object.fillType=void 0!==t?t:e||it.Color}}),ut.define("color",{get:function(){return se(this._object.color())},set:function(e){var t=le.from(e);this._object.color=t.toMSColor()}}),ut.define("gradient",{get:function(){return Pe.from(this._object.gradient())},set:function(e){var t=Pe.from(e);this._object.gradient=t}}),ut.defineObject("pattern",{patternType:{get:function(){var e=this;return Object.keys(at).find(function(t){return at[t]===e._object.patternFillType()})||this._object.patternFillType()},set:function(e){var t=at[e];this._object.setPatternFillType(void 0!==t?t:e||at.Tile)}},image:{get:function(){return K.fromNative(this._object.image())},set:function(e){this._object.setImage(K.from(e).sketchObject)}},tileScale:{get:function(){return Number(this._object.patternTileScale())},set:function(e){this._object.setPatternTileScale(e)}}}),ut.defineObject("noise",{noiseType:{get:function(){var e=this;return Object.keys(ct).find(function(t){return ct[t]===e._object.noiseIndex()})||this._object.noiseIndex()},set:function(e){var t=ct[e];this._object.setNoiseIndex(void 0!==t?t:e||ct.Original)}},intensity:{get:function(){return Number(this._object.noiseIntensity())},set:function(e){this._object.setNoiseIntensity(e)}}}),ut.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}});var pt={Center:0,Inside:1,Outside:2,Both:3},ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,bt(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,b),r=t,i=[{key:"toNative",value:function(e){if(Object(n.isNativeObject)(e))return e;if(h(e))return e.sketchObject;var t=MSStyleBorder.new(),r="string"==typeof e?le.from(e):le.from(e.color),o=Pe.from(e.gradient);if(r&&(t.color=r.toMSColor()),o&&(t.gradient=o._object),void 0!==e.thickness&&(t.thickness=e.thickness),void 0!==e.position){var i=pt[e.position];t.position=void 0!==i?i:e.position}var a=it[e.fillType];return t.fillType=void 0!==a?a:e.fillType||it.Color,void 0===e.enabled?t.isEnabled=!0:t.isEnabled=e.enabled,t}}],(o=null)&&lt(r.prototype,o),i&&lt(r,i),t}();ht.type=y.Border,ht._DefinedPropertiesKey={},ht.define("sketchObject",{exportable:!1,enumerable:!1,importable:!1,get:function(){return this._object}}),ht.define("fillType",{get:function(){var e=this;return Object.keys(it).find(function(t){return it[t]===e._object.fillType()})||this._object.fillType()},set:function(e){var t=it[e];this._object.fillType=void 0!==t?t:e||it.Color}}),ht.define("position",{get:function(){var e=this;return Object.keys(pt).find(function(t){return pt[t]===e._object.position()})||this._object.position()},set:function(e){var t=pt[e];this._object.position=void 0!==t?t:e}}),ht.define("color",{get:function(){return se(this._object.color())},set:function(e){var t=le.from(e);this._object.color=t.toMSColor()}}),ht.define("gradient",{get:function(){return Pe.from(this._object.gradient())},set:function(e){var t=Pe.from(e);this._object.gradient=t}}),ht.define("thickness",{get:function(){return Number(this._object.thickness())},set:function(e){this._object.thickness=e}}),ht.define("enabled",{get:function(){return!!this._object.isEnabled()},set:function(e){this._object.isEnabled=e}});var mt={left:0,right:1,center:2,justified:3,natural:4},dt={0:"left",1:"right",2:"center",3:"justified",4:"left"},vt={top:0,center:1,bottom:2},jt={0:"top",1:"center",2:"bottom"};function gt(e){var t=e.textStyle();if(t)return t.attributes()}function St(e){var t=gt(e);if(t){var r=t[NSParagraphStyleAttributeName];return r||(r=NSParagraphStyle.defaultParagraphStyle()),r}}function _t(e,t){var r=e.textStyle();r||(r=MSTextStyle.styleWithAttributes(MSDefaultTextStyle.defaultTextStyle()),e.setTextStyle(r));var n=gt(e);n=t(n.mutableCopy()),r.setAttributes(n)}function Ot(e,t){_t(e,function(e){var r=e[NSParagraphStyleAttributeName];return r||(r=NSParagraphStyle.defaultParagraphStyle()),r=t(r.mutableCopy()),e[NSParagraphStyleAttributeName]=r,e})}function wt(e,t){return(e&t)==t}var Pt={none:0,solid:0,double:9,thick:2,single:1,"dash-dot-dot":1024,"dash-dot":768,dash:512,dot:256,"by-word":32768};function kt(e){if(e){var t=[];if(wt(e,Pt.double)?t.push("double"):wt(e,Pt.thick)?t.push("thick"):wt(e,Pt.single)&&t.push("single"),wt(e,Pt["dash-dot-dot"])?t.push("dash-dot-dot"):wt(e,Pt["dash-dot"])?t.push("dash-dot"):wt(e,Pt.dash)?t.push("dash"):wt(e,Pt.dot)&&t.push("dot"),wt(e,Pt["by-word"])&&t.push("by-word"),t.length)return t.join(" ")}}function Mt(e){var t=Pt[e];if(!t)throw new Error("unknown underline trait ".concat(e));return t}function Nt(e){if(!e||"none"===e)return Pt.none;var t=e.split(" "),r=Mt(t[0]);return t.forEach(function(e,t){0!==t&&(r|=Mt(e))}),r}function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xt(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft,At={Normal:0,Darken:1,Multiply:2,ColorBurn:3,Lighten:4,Screen:5,ColorDodge:6,Overlay:7,SoftLight:8,HardLight:9,Difference:10,Exclusion:11,Hue:12,Saturation:13,Color:14,Luminosity:15},Lt={fills:[]},Rt={1:"Layer",2:"Text"},Kt={Layer:"Layer",Text:"Text"},Bt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||((e=Object.assign({},Lt,e)).sketchObject=MSDefaultStyle.defaultStyle()),xt(this,Tt(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,b),r=t,o=[{key:"colorFromString",value:function(e){return ue(e)}},{key:"colorToString",value:function(e){return se(e)}}],(n=[{key:"isOutOfSyncWithSharedStyle",value:function(e){return!!_(e).sketchObject.isOutOfSyncWithInstance(this._object)}},{key:"syncWithSharedStyle",value:function(e){this._object.syncWithTemplateInstance(_(e).style.sketchObject)}},{key:"getParentLayer",value:function(){return this._object.parentLayer?_(this._object.parentLayer()):null}},{key:"getDefaultLineHeight",value:function(){if(this._object.parentLayer){var e=this._object.parentLayer();if(e){var t=String(e.class());if("MSTextLayer"===t||"MSImmutableTextLayer"===t){var r="MSImmutableTextLayer"===t?e:e.immutableModelObject(),n=r.createTextStorage().layoutManagers().firstObject();return Number(r.defaultLineHeight(n))}}}}}])&&Ct(r.prototype,n),o&&Ct(r,o),t}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ht(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Bt.type=y.Style,Bt._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){It(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(Bt,MSStyle),Bt.GradientType={Linear:"Linear",Radial:"Radial",Angular:"Angular"},Bt.define("opacity",{get:function(){return this._object.contextSettings().opacity()},set:function(e){this._object.contextSettings().setOpacity(Math.min(Math.max(e,0),1))}}),Bt.BlendingMode={Normal:"Normal",Darken:"Darken",Multiply:"Multiply",ColorBurn:"ColorBurn",Lighten:"Lighten",Screen:"Screen",ColorDodge:"ColorDodge",Overlay:"Overlay",SoftLight:"SoftLight",HardLight:"HardLight",Difference:"Difference",Exclusion:"Exclusion",Hue:"Hue",Saturation:"Saturation",Color:"Color",Luminosity:"Luminosity"},Bt.define("blendingMode",{get:function(){var e=this._object.contextSettings().blendMode();return Object.keys(At).find(function(t){return At[t]===e})||e},set:function(e){var t=At[e];this._object.contextSettings().setBlendMode(void 0!==t?t:e)}}),Bt.Arrowhead=Re,Bt.LineEnd=Be,Bt.LineJoin=Ge,Bt.define("borderOptions",{get:function(){return He.fromNative(this._object)},set:function(e){He.updateNative(this._object,e)}}),Bt.BlurType=Ze,Bt.define("blur",{get:function(){return Qe.fromNative(this._object.blur())},set:function(e){Qe.updateNative(this._object.blur(),e)}}),Bt.FillType={Color:"Color",Gradient:"Gradient",Pattern:"Pattern",Noise:"Noise",color:"Color",gradient:"Gradient",pattern:"Pattern",noise:"Noise"},Bt.PatternFillType={Tile:"Tile",Fill:"Fill",Stretch:"Stretch",Fit:"Fit"},Bt.NoiseType={Original:"Original",Black:"Black",White:"White",Color:"Color"},Bt.define("fills",{array:!0,get:function(){return Object(n.toArray)(this._object.fills()).map(ut.fromNative.bind(ut))},set:function(e){var t=e.map(ut.toNative.bind(ut));this._object.setFills(t)},insertItem:function(e,t){var r=Object(n.toArray)(this._object.fills());return r.splice(t,0,e),this.fills=r,ut.fromNative(ut.toNative(e))},removeItem:function(e){var t=Object(n.toArray)(this._object.fills()),r=t.splice(e,1);return this.fills=t,ut.fromNative(r[0])}}),Bt.BorderPosition={Center:"Center",Inside:"Inside",Outside:"Outside",Both:"Both"},Bt.define("borders",{array:!0,get:function(){return Object(n.toArray)(this._object.borders()).map(ht.fromNative.bind(ht))},set:function(e){var t=e.map(ht.toNative.bind(ht));this._object.setBorders(t)},insertItem:function(e,t){var r=Object(n.toArray)(this._object.borders());return r.splice(t,0,e),this.borders=r,ht.fromNative(ht.toNative(e))},removeItem:function(e){var t=Object(n.toArray)(this._object.borders()),r=t.splice(e,1);return this.borders=t,ht.fromNative(r[0])}}),Bt.define("shadows",{array:!0,get:function(){return Object(n.toArray)(this._object.shadows()).map(Ce.fromNative.bind(Ce))},set:function(e){var t=e.map(Ce.toNative.bind(Ce,MSStyleShadow));this._object.setShadows(t)},insertItem:function(e,t){var r=Object(n.toArray)(this._object.shadows());return r.splice(t,0,e),this.shadows=r,Ce.fromNative(Ce.toNative(MSStyleShadow,e))},removeItem:function(e){var t=Object(n.toArray)(this._object.shadows()),r=t.splice(e,1);return this.shadows=t,Ce.fromNative(r[0])}}),Bt.define("innerShadows",{array:!0,get:function(){return Object(n.toArray)(this._object.innerShadows()).map(Ce.fromNative.bind(Ce))},set:function(e){var t=e.map(Ce.toNative.bind(Ce,MSStyleInnerShadow));this._object.setInnerShadows(t)},insertItem:function(e,t){var r=Object(n.toArray)(this._object.innerShadows());return r.splice(t,0,e),this.innerShadows=r,Ce.fromNative(Ce.toNative(MSStyleInnerShadow,e))},removeItem:function(e){var t=Object(n.toArray)(this._object.innerShadows()),r=t.splice(e,1);return this.innerShadows=t,Ce.fromNative(r[0])}}),Bt.StyleType=Kt,Bt.define("styleType",{get:function(){return this._object.textStyle()&&this._object.textStyle().attributes()[NSFontAttributeName]?Kt.Text:Kt.Layer}}),(Ft=Bt).define("alignment",{get:function(){var e=St(this._object);if(e){var t=e.alignment();return dt[t]||t}},set:function(e){this.isImmutable()||Ot(this._object,function(t){var r=mt[e];return t.setAlignment(void 0!==r?r:e),t})}}),Ft.define("verticalAlignment",{get:function(){var e=this._object.textStyle();if(e){var t=e.verticalAlignment();return jt[t]||t}},set:function(e){if(!this.isImmutable()){var t=this._object.textStyle();t||(t=MSTextStyle.styleWithAttributes({}),this._object.setTextStyle(t));var r=vt[e];t.verticalAlignment=void 0!==r?r:e}}}),Ft.define("kerning",{get:function(){var e=gt(this._object);if(e){var t=e[NSKernAttributeName];return null===t?null:j(t)}},set:function(e){this.isImmutable()||_t(this._object,function(t){return t[NSKernAttributeName]=e,t})}}),Ft.define("lineHeight",{get:function(){var e=St(this._object);if(e){var t=e.minimumLineHeight();return t>0&&t==e.maximumLineHeight()?j(t):null}},set:function(e){this.isImmutable()||Ot(this._object,function(t){return t.minimumLineHeight=e,t.maximumLineHeight=e,t.lineSpacing=0,t})}}),Ft.define("paragraphSpacing",{get:function(){var e=St(this._object);if(e)return j(e.paragraphSpacing())},set:function(e){this.isImmutable()||Ot(this._object,function(t){return t.paragraphSpacing=e,t.lineSpacing=e,t})}}),Ft.define("textColor",{get:function(){var e=gt(this._object);if(e){var t=e.MSAttributedStringColorAttribute;return le.from(t||"#000000FF").toString()}},set:function(e){if(!this.isImmutable()){var t=le.from(e);_t(this._object,function(e){return e.MSAttributedStringColorAttribute=t.toMSImmutableColor(),e})}}}),Ft.define("fontSize",{get:function(){var e=gt(this._object);if(e){var t=e[NSFontAttributeName];if(t)return Number(t.pointSize())}},set:function(e){this.isImmutable()||_t(this._object,function(t){var r=t[NSFontAttributeName],n=NSFontManager.sharedFontManager().convertFont_toSize(r,e);return n?(t[NSFontAttributeName]=n,t):t})}}),Ft.define("textTransform",{get:function(){var e=gt(this._object);if(e){var t=e.MSAttributedStringTextTransformAttribute;return t?1==t?"uppercase":2==t?"lowercase":void 0:"none"}},set:function(e){if(!this.isImmutable()){var t=String(e),r=null;"uppercase"===t?r=1:"lowercase"===t?r=2:"none"!==t&&e&&(r=e),_t(this._object,function(e){return e.MSAttributedStringTextTransformAttribute=r,e})}}}),Ft.define("fontFamily",{get:function(){var e=gt(this._object);if(e){var t=e[NSFontAttributeName];if(t){var r=String(t.familyName());return".SF NS Text"===r?"system":r}}},set:function(e){this.isImmutable()||_t(this._object,function(t){var r=t[NSFontAttributeName];if("system"===e){var n=NSFont.systemFontOfSize(16);e=n.familyName()}var o=NSFontManager.sharedFontManager().convertFont_toFamily(r,e);return o?(t[NSFontAttributeName]=o,t):t})}}),Ft.define("fontWeight",{get:function(){var e=gt(this._object);if(e){var t=e[NSFontAttributeName];if(t)return Number(NSFontManager.sharedFontManager().weightOfFont(t))}},set:function(e){this.isImmutable()||_t(this._object,function(t){var r=t[NSFontAttributeName],n=NSFontManager.sharedFontManager();r=n.convertFont_toNotHaveTrait(r,NSBoldFontMask);var o=n.fontWithFamily_traits_weight_size(r.familyName(),n.traitsOfFont(r),e,r.pointSize());return o?(t[NSFontAttributeName]=o,t):t})}}),Ft.define("fontStyle",{get:function(){var e=gt(this._object);if(e){var t=e[NSFontAttributeName];if(t)return NSFontManager.sharedFontManager().fontNamed_hasTraits(t.fontName(),NSItalicFontMask)?"italic":void 0}},set:function(e){this.isImmutable()||_t(this._object,function(t){var r,n=t[NSFontAttributeName],o=NSFontManager.sharedFontManager();if("normal"!==e&&e){if("italic"!==e&&"oblique"!==e)throw new Error("Unknown font style");r=o.convertFont_toHaveTrait(n,NSItalicFontMask)}else r=o.convertFont_toNotHaveTrait(n,NSItalicFontMask);return r?(t[NSFontAttributeName]=r,t):t})}}),Ft.define("fontVariant",{get:function(){var e=gt(this._object);if(e){var t=e[NSFontAttributeName];if(t)return NSFontManager.sharedFontManager().fontNamed_hasTraits(t.fontName(),NSSmallCapsFontMask)?"small-caps":void 0}},set:function(e){this.isImmutable()||_t(this._object,function(t){var r,n=t[NSFontAttributeName],o=NSFontManager.sharedFontManager();if("normal"!==e&&e){if("small-caps"!==e)throw new Error("Unknown font variant");r=o.convertFont_toHaveTrait(n,NSSmallCapsFontMask)}else r=o.convertFont_toNotHaveTrait(n,NSSmallCapsFontMask);return r?(t[NSFontAttributeName]=r,t):t})}}),Ft.define("fontStretch",{get:function(){var e=gt(this._object);if(e){var t=e[NSFontAttributeName];if(t){var r=NSFontManager.sharedFontManager().traitsOfFont(t);return wt(r,NSCompressedFontMask)?"compressed":wt(r,NSCondensedFontMask)?"condensed":wt(r,NSExpandedFontMask)?"expanded":wt(r,NSNarrowFontMask)?"narrow":wt(r,NSPosterFontMask)?"poster":void 0}}},set:function(e){this.isImmutable()||_t(this._object,function(t){var r,n=t[NSFontAttributeName],o=NSFontManager.sharedFontManager();if("normal"!==e&&e)if("compressed"===e)r=o.convertFont_toHaveTrait(n,NSCompressedFontMask);else if("condensed"===e)r=o.convertFont_toHaveTrait(n,NSCondensedFontMask);else if("expanded"===e)r=o.convertFont_toHaveTrait(n,NSExpandedFontMask);else if("narrow"===e)r=o.convertFont_toHaveTrait(n,NSNarrowFontMask);else{if("poster"!==e)throw new Error("Unknown font stretch");r=o.convertFont_toHaveTrait(n,NSPosterFontMask)}else r=o.convertFont_toNotHaveTrait(n,NSCompressedFontMask|NSCondensedFontMask|NSExpandedFontMask|NSNarrowFontMask|NSPosterFontMask);return r?(t[NSFontAttributeName]=r,t):t})}}),Ft.define("textUnderline",{get:function(){var e=gt(this._object);if(e)return kt(e[NSUnderlineStyleAttributeName])},set:function(e){this.isImmutable()||_t(this._object,function(t){return t[NSUnderlineStyleAttributeName]=Nt(e),t})}}),Ft.define("textStrikethrough",{get:function(){var e=gt(this._object);if(e)return kt(e[NSStrikethroughStyleAttributeName])},set:function(e){this.isImmutable()||_t(this._object,function(t){return t[NSStrikethroughStyleAttributeName]=Nt(e),t})}});var Jt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.sketchObject)throw new Error("Cannot create a SharedStyle directly, use `document.sharedLayerStyles.push({ name, style })` (or `document.sharedTextStyles`) instead.");return Ht(this,Vt(t).call(this,e))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(t,b),r=t,i=[{key:"fromStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.name,n=e.style,o=e.document;console.warn("`SharedStyle.fromStyle({ name, style, document })` is deprecated. Use `document.sharedLayerStyles.push({ name, style })` (or `document.sharedTextStyles`) instead.");var i=_(o)._getMSDocumentData(),a=_(n,y.Style),c=t.fromNative(MSSharedStyle.alloc().initWithName_style(r,a.sketchObject));return i.sharedObjectContainerOfType(a.sketchObject.type()).addSharedObject(c._object),c}}],(o=[{key:"getAllInstances",value:function(){return Object(n.toArray)(this._object.allInstances()).map(_)}},{key:"getAllInstancesLayers",value:function(){return Object(n.toArray)(this._object.allLayersInstances()).map(_)}},{key:"getLibrary",value:function(){var e=AppController.sharedInstance().librariesController().libraryForShareableObject(this._object);if(!e){var t=this._object.foreignObject();return t?{type:y.Library,id:String(t.libraryID()),name:String(t.sourceLibraryName()),enabled:!1,valid:!1}:null}return _(e)}},{key:"syncWithLibrary",value:function(){var e=AppController.sharedInstance().librariesController(),t=e.libraryForShareableObject(this._object);if(!t)return!1;var r=this._object.foreignObject();return!!r&&(e.syncForeignObject_withMaster_fromLibrary(r,null,t),!0)}},{key:"unlinkFromLibrary",value:function(){if(!AppController.sharedInstance().librariesController().libraryForShareableObject(this._object))return!1;var e=this._object.foreignObject();return!!e&&(e.unlinkFromRemote(),!0)}}])&&Ut(r.prototype,o),i&&Ut(r,i),t}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e,t){return!t||"object"!==qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Jt.type=y.SharedStyle,Jt._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Gt(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(Jt,MSSharedStyle),Jt.StyleType=Kt,Jt.define("styleType",{get:function(){return Rt[this._object.type()]||this._object.type()}}),Jt.define("name",{get:function(){return String(this._object.name())},set:function(e){this._object.name=e}}),Jt.define("style",{get:function(){return _(this._object.style())},set:function(e){if(this._object.isForeign())throw new Error("Can not set the style of a shared style coming from a library");this._object.updateToMatch(_(e).sketchObject)}});var Qt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xt(this,Zt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(t,ae),t}();function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nr(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Qt._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Yt(e,t,r[t])})}return e}({},ae._DefinedPropertiesKey),p.registerClass(Qt,MSStyledLayer),p.registerClass(Qt,MSImmutableStyledLayer),Qt.define("style",{get:function(){return Bt.fromNative(this._object.style())},set:function(e){this.isImmutable()||(Object(n.isNativeObject)(e)?this._object.style=e.copy():e&&e.sketchObject?this._object.style=e.sketchObject.copy():this._object.style=new Bt(e).sketchObject)}}),Qt.define("sharedStyleId",{get:function(){var e=this._object.sharedStyleID();return e?String(e):null},set:function(e){this.isImmutable()||(e?this._object.setSharedStyleID(e):this._object.setSharedStyleID(null))}}),Qt.define("sharedStyle",{enumerable:!1,exportable:!1,get:function(){if(!this._object.sharedStyle)return null;var e=this._object.sharedStyle();return e?Jt.fromNative(e):null},set:function(e){if(!this.isImmutable())if(e){var t=_(e);this._object.setSharedStyleID(t.id)}else this._object.setSharedStyleID(null)}});var ar=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),nr(this,or(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(t,Qt),r=t,(n=[{key:"detach",value:function(e){if(this.isImmutable())return null;var t=(e||{}).recursively||!1,r=this._object.detachStylesAndReplaceWithGroupRecursively(t);return r?_(r):null}},{key:"setOverrideValue",value:function(e,t){if(this.isImmutable())return this;var r=_(e),n=r.sketchObject.overridePoint();return"image"===r.property?this._object.setValue_forOverridePoint(K.from(t).sketchObject,n):"stringValue"===r.property?this._object.setValue_forOverridePoint(String(t),n):this._object.setValue_forOverridePoint(t,n),this}}])&&rr(r.prototype,n),o&&rr(r,o),t}();function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ar.type=y.SymbolInstance,ar._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){tr(e,t,r[t])})}return e}({},Qt._DefinedPropertiesKey),p.registerClass(ar,MSSymbolInstance),p.registerClass(ar,MSImmutableSymbolInstance),delete ar._DefinedPropertiesKey.sharedStyle,ar.define("symbolId",{depends:"parent",get:function(){return String(this._object.symbolID())},set:function(e){if(!this.isImmutable()){var t=this._object.parentPage();if(!t)throw new Error("A symbol instance needs to be inserted in a page before setting the symbolId");var r=t.documentData().symbolWithID(e);this.master=r}}}),ar.define("master",{exportable:!1,enumerable:!1,get:function(){return this._object.symbolMaster()?_(this._object.symbolMaster()):null},set:function(e){if(!this.isImmutable()){var t=_(e);this._object.changeInstanceToSymbol(t.sketchObject)}}}),ar.define("overrides",{get:function(){var e=this;if(this._object.availableOverrides)return Object(n.toArray)(MSAvailableOverride.flattenAvailableOverrides(this._object.availableOverrides())).map(function(t){var r=V.fromNative(t);return Object.defineProperty(r,"__symbolInstance",{writable:!1,enumerable:!1,value:e}),r})},set:function(){throw new Error("Cannot set the overrides directly. Set the value of each overrides instead.")}});var br,yr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sr(this,lr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,b),t}();function pr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}yr.type=y.DataOverride,yr._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ur(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),"undefined"!=typeof MSDataOverride&&p.registerClass(yr,MSDataOverride),yr.define("override",{get:function(){return V.fromNative(this._object.availableOverride())}}),yr.define("symbolInstance",{get:function(){return ar.fromNative(this._object.symbolInstance())}}),yr.define("id",{exportable:!0,importable:!1,get:function(){return String(this._object.overrideIdentifier())}});var hr={compact:!1,"include-namespaces":!1,compression:1,"group-contents-only":!1,overwriting:!1,progressive:!1,"save-for-web":!1,"use-id-for-name":!1,trimmed:!1,output:"~/Documents/Sketch Exports"};function mr(e){var t=MSJSONDataArchiver.new();t.archiveObjectIDs=!0;var r=MOPointer.alloc().init(),n=e.immutableModelObject?e.immutableModelObject():e;if(t.archivedDataWithRootObject_error(n,r),r.value())throw Error("Couldnt create the JSON string: ".concat(r.value()));return t.archivedData()}function dr(e,t){var n=(Array.isArray(e)?e:[e]).map(function(e){return h(e)?e.sketchObject:e}).filter(function(e){return e});if(!n.length)throw new Error("No objects provided to export");var o=(t||{}).formats||[];"string"==typeof o&&(o=o.split(",")),0===(o=o.map(function(e){return e.trim()})).length&&o.push("png");var i=-1!==o.indexOf("json"),a=o.filter(function(e){return"json"!==e}),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){pr(e,t,r[t])})}return e}({},hr,t,{formats:a.join(",")});if(!c.output){if(o.length>1)throw new Error("Can only return 1 format with no output type");var u=o[0],s=n.map(function(e){if("json"===u){var t=function(e){var t=mr(e);return String(NSString.alloc().initWithData_encoding(t,NSUTF8StringEncoding))}(e);return JSON.parse(t)}return function(e,t){var n=e.isKindOfClass(MSPage),o=MSSelfContainedHighLevelExporter.alloc().initWithOptions(t),i=o.formatsToExport(),a=n?o.rectToExportForPage(e):CGRectNull,c=o.exportRequestsForLayer_inRect_exportFormats(e,a,i)[0],u=NSColorSpace.colorSpaceForSketchColorSpace(c.immutableDocument().colorSpace()),s=MSExporter.exporterForRequest_colorSpace_driver(c,u,o.driver()).data();return br||(br=r(1).Buffer),br.from(s)}(e,c)});return Array.isArray(e)?s:s[0]}return i&&function(e,t){var r=NSFileManager.defaultManager(),n=NSString.stringWithString(t.output).stringByExpandingTildeInPath(),o=String(n).split("/");r.createDirectoryAtPath_withIntermediateDirectories_attributes_error(n,!0,null,null),e.forEach(function(e){var r=!0!==t["use-id-for-name"]&&e.name?e.name():e.objectID(),n=o.slice();n.push("".concat(r,".json"));var i=NSURL.fileURLWithPath(n.join("/")),a=mr(e),c=t.overwriting?0:NSDataWritingWithoutOverwriting,u=MOPointer.new();if(a.writeToURL_options_error(i,c,u),u.value())throw new Error("Error writing json file ".concat(u.value()))})}(n,c),a.length&&function(e,t){var r=[],n=[];e.forEach(function(e){e.isKindOfClass(MSPage)?r.push(e):n.push(e)});var o=MSSelfContainedHighLevelExporter.alloc().initWithOptions(t);r.forEach(o.exportPage),n.length&&o.exportLayers(n)}(n,c),!0}function vr(e,t){var r=t||MSArchiveHeader.metadataForNewHeader().version,n=MOPointer.new(),o=MSJSONDictionaryUnarchiver.unarchiveObjectFromDictionary_asVersion_corruptionDetected_error(e,r,null,n);if(n.value())throw new Error("Failed to create object from sketch JSON: ".concat(n.value()));return o.newMutableCounterpart&&(o=o.newMutableCounterpart()),S(o)}function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),Sr(this,_r(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(t,Qt),t}();function Pr(e,t){var r;return r=x.Buffer.isBuffer(e)?e.toNSData():Object(n.isNativeObject)(e)&&e.isKindOfClass(NSData)?e:x.Buffer.from(e).toNSData(),t.prepareToImportFromData(r),S(t.importAsLayer())}wr.type=y.Image,wr._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){gr(e,t,r[t])})}return e}({},Qt._DefinedPropertiesKey),p.registerClass(wr,MSBitmapLayer),p.registerClass(wr,MSImmutableBitmapLayer),wr.define("image",{get:function(){return K.fromNative(this._object.image())},set:function(e){if(!this.isImmutable()){var t=K.from(e);this._object.setImage(t.sketchObject)}}});var kr=function(e,t){switch(t){case"svg":return function(e){return Pr(e,MSSVGImporter.svgImporter())}(e);case"pdf":return function(e){return Pr(e,MSPDFImporter.pdfImporter())}(e);case"eps":return function(e){return Pr(e,MSPDFImporter.epsImporter())}(e);case"bitmap":return new wr({image:e});default:throw new Error("Can't import ".concat(t))}};function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ir(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),Ir(this,Cr(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(t,Qt),r=t,(n=[{key:"pageRectToLocalRect",value:function(e){return console.warn("Group.pageRectToLocalRect(rect) is deprecated. Use rect.changeBasis({ to: group }) instead"),e.changeBasis({to:this})}},{key:"adjustToFit",value:function(){return this.isImmutable()?this:(this._object.fixGeometryWithOptions(0),this)}}])&&Dr(r.prototype,n),o&&Dr(r,o),t}();function Er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Tr.type=y.Group,Tr._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Nr(e,t,r[t])})}return e}({},Qt._DefinedPropertiesKey),p.registerClass(Tr,MSLayerGroup),p.registerClass(Tr,MSImmutableLayerGroup),Tr.define("layers",{array:!0,get:function(){return Object(n.toArray)(this._object.layers()).map(S)},set:function(e){this.isImmutable()||(this._object.removeAllLayers(),this._object.addLayers(Object(n.toArray)(e).map(_).map(function(e){return e._object})))},insertItem:function(e,t){if(!this.isImmutable()){var r=_(e);return r._object.parentGroup()&&r._object.removeFromParent(),this._object.insertLayer_atIndex(r._object,t),r}},removeItem:function(e){if(!this.isImmutable()){var t=S(this._object.layers()[e]);return this._object.removeLayerAtIndex(e),t}}});var Fr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._object=t._object}var t,r,o;return t=e,(r=[{key:"forEach",value:function(e){return this.layers.forEach(e)}},{key:"map",value:function(e){return this.layers.map(e)}},{key:"reduce",value:function(e,t){return this.layers.reduce(e,t)}},{key:"clear",value:function(){return this._object.changeSelectionBySelectingLayers(null),this}},{key:"layers",get:function(){return Object(n.toArray)(this._object.selectedLayers().layers()).map(S)},set:function(e){this._object.changeSelectionBySelectingLayers((e.layers||e).map(function(e){return _(e).sketchObject}))}},{key:"length",get:function(){return this._object.selectedLayers().layers().count()}},{key:"isEmpty",get:function(){return 0===this.length}}])&&Er(t.prototype,r),o&&Er(t,o),e}();function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kr(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().init()),Kr(this,Br(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(t,Tr),r=t,(n=[{key:"adjustToFit",value:function(){}},{key:"duplicate",value:function(){var e=this._object,t=e.copy();return e.documentData().insertPage_afterPage(t,e),S(t)}},{key:"remove",value:function(){return this.isImmutable()?this:(this._object.documentData().removePages_detachInstances([this._object],!0),this)}},{key:"moveToFront",value:function(){return this}},{key:"moveToBack",value:function(){return this}},{key:"moveForward",value:function(){return this}},{key:"moveBackward",value:function(){return this}},{key:"getParentPage",value:function(){}}])&&Rr(r.prototype,n),o&&Rr(r,o),t}();function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Gr.type=y.Page,Gr._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Lr(e,t,r[t])})}return e}({},Tr._DefinedPropertiesKey),p.registerClass(Gr,MSPage),p.registerClass(Gr,MSImmutablePage),delete Gr._DefinedPropertiesKey.flow,delete Gr._DefinedPropertiesKey.style,delete Gr._DefinedPropertiesKey.locked,delete Gr._DefinedPropertiesKey.hidden,delete Gr._DefinedPropertiesKey.exportFormats,delete Gr._DefinedPropertiesKey.transform,Gr.define("parent",{enumerable:!1,exportable:!1,get:function(){return S(this._object.documentData())},set:function(e){this.isImmutable()||(this._object.documentData()&&this._object.documentData().removePages_detachInstances([this._object],!1),(e=_(e))&&("function"==typeof e._object.addPage?e._object.addPage(this._object):e._object.documentData().addPage(this._object)))}}),Gr.define("index",{exportable:!1,get:function(){var e=this._object;return parseInt(e.parentGroup().indexOfLayer_(e),10)}}),Gr.define("selected",{get:function(){return!!this._object.documentData()&&this._object.documentData().currentPage()==this._object},set:function(e){this.isImmutable()||(e?this._object.documentData().setCurrentPage(this._object):this._object.documentData().setCurrentPageIndex(0))}}),Gr.define("selectedLayers",{enumerable:!1,exportable:!1,importable:!1,get:function(){return new Fr(this)}});var qr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vr(this,zr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(t,b),t}();function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $r(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}qr._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Hr(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),delete qr._DefinedPropertiesKey.id,qr.define("name",{get:function(){var e=this._object.name();return e?String(e):null},set:function(e){this._object.name=e}});var tn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$r(this,Qr(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,qr),r=t,i=[{key:"from",value:function(e){if(e){var r;if(Object(n.isNativeObject)(e))if(e.isKindOfClass(MSColorAsset))r=e;else try{var o=le.from(e).toMSColor();r=MSColorAsset.alloc().initWithAsset_name(o,null)}catch(t){throw new Error("Cannot create a color asset from a ".concat(String(e.class())))}else if("object"==Xr(e)){var i=e.color,a=e.name,c=le.from(i).toMSColor();r=MSColorAsset.alloc().initWithAsset_name(c,a||null)}else{var u=le.from(e).toMSColor();r=MSColorAsset.alloc().initWithAsset_name(u,null)}return t.fromNative(r)}}}],(o=null)&&Zr(r.prototype,o),i&&Zr(r,i),t}();function rn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function an(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}tn.type=y.ColorAsset,tn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Yr(e,t,r[t])})}return e}({},qr._DefinedPropertiesKey),p.registerClass(tn,MSColorAsset),tn.define("color",{get:function(){return se(this._object.color())}});var sn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),an(this,cn(t).apply(this,arguments))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(t,qr),r=t,i=[{key:"from",value:function(e){if(e){if(Object(n.isNativeObject)(e)){var r=String(e.class());if("MSGradientAsset"===r)return t.fromNative(e);if("MSGradient"===r){var o=MSGradientAsset.alloc().initWithAsset_name(e,null);return t.fromNative(o)}throw new Error("Cannot create a color asset from a ".concat(r))}var i,a;if(h(e)?i=e:"object"==nn(e)&&(null!=e.gradient?(i=e.gradient,a=e.name,h(i)||(i=Pe.from(i))):i=Pe.from(e)),!i)throw new Error("Cannot create a gradient asset without a gradient");if("Gradient"!==i.type)throw new Error("Cannot create a gradient asset from a ".concat(i.type));var c=MSGradientAsset.alloc().initWithAsset_name(i._object,a||null);return t.fromNative(c)}}}],(o=null)&&on(r.prototype,o),i&&on(r,i),t}();function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}sn.type=y.GradientAsset,sn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){rn(e,t,r[t])})}return e}({},qr._DefinedPropertiesKey),p.registerClass(sn,MSGradientAsset),sn.define("gradient",{get:function(){return Pe.from(this._object.gradient())}});var dn={Save:NSSaveOperation,SaveTo:NSSaveToOperation,SaveAs:NSSaveAsOperation};function vn(){var e=NSDocumentController.sharedDocumentController();return Object(n.toArray)(e.documents()).map(gn.fromNative.bind(gn))}function jn(){var e;("undefined"!=typeof context&&(e=context.actionContext&&context.actionContext.document?context.actionContext.document:context.document),e)||(e=NSDocumentController.sharedDocumentController().currentDocument());e||(e=mn(NSApplication.sharedApplication().orderedDocuments(),1)[0]);if(e)return gn.fromNative(e)}var gn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.sketchObject){var r=NSDocumentController.sharedDocumentController(),n=MOPointer.alloc().init();if(e.sketchObject=r.openUntitledDocumentAndDisplay_error(!0,n),null!==n.value())throw new Error(n.value());if(!e.sketchObject)throw new Error("could not create a new Document")}return yn(this,pn(t).call(this,e))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(t,b),r=t,i=[{key:"getDocuments",value:function(){return vn()}},{key:"getSelectedDocument",value:function(){return jn()}},{key:"open",value:function(e,r){"function"==typeof e&&(r=e,e=void 0);var n,o=NSDocumentController.sharedDocumentController();if(!e){var i=NSOpenPanel.openPanel();if(i.allowedFileTypes=["sketch"],i.canChooseFiles=!0,i.canChooseDirectories=!1,i.allowsMultipleSelection=!1,i.runModal()!=NSOKButton)return void(r&&r(null,void 0));var a=i.URLs()[0],c=coscript.createFiber();o.openDocumentWithContentsOfURL_display_context_callback(a,!0,coscript,function(e,n,o){try{r&&(o&&!o.isEqual(NSNull.null())?r(new Error(o.description())):r(null,t.fromNative(e))),c.cleanup()}catch(e){throw c.cleanup(),e}});var u=o.currentDocument();return t.fromNative(u)}var s=m(e);if(o.documentForURL(s))return n=t.fromNative(o.documentForURL(s)),r&&r(null,n),n;var l=MOPointer.alloc().init();if(n=o.openDocumentWithContentsOfURL_display_error(s,!0,l),null!==l.value())throw new Error(l.value());return n=t.fromNative(n),r&&r(null,n),n}}],(o=[{key:"_getMSDocument",value:function(){var e=this._object;return e&&"MSDocumentData"===String(e.class())&&(e=e.delegate()),e}},{key:"_getMSDocumentData",value:function(){var e=this._object;return!e||"MSDocumentData"!==String(e.class())&&"MSImmutableDocumentData"!==String(e.class())?e.documentData():e}},{key:"getLayerWithID",value:function(e){var t=this._getMSDocumentData().layerWithID(e);if(t)return _(t)}},{key:"getLayersNamed",value:function(e){for(var t=NSArray.array(),r=this._object.pages().objectEnumerator(),o=r.nextObject(),i=NSPredicate.predicateWithFormat("name == %@",e);o;){var a=o.children();t=t.arrayByAddingObjectsFromArray(a.filteredArrayUsingPredicate(i)),o=r.nextObject()}return Object(n.toArray)(t).map(_)}},{key:"getSymbolMasterWithID",value:function(e){var t=this._getMSDocumentData().symbolWithID(e);if(t)return _(t)}},{key:"getSymbols",value:function(){var e=this._getMSDocumentData();return Object(n.toArray)(e.allSymbols()).map(_)}},{key:"_getSharedStyleWithIdAndType",value:function(e,t){var r=this._getMSDocumentData()[t===Kt.Layer?"layerStyleWithID":"textStyleWithID"](e);if(r)return _(r)}},{key:"getSharedLayerStyleWithID",value:function(e){return this._getSharedStyleWithIdAndType(e,Kt.Layer)}},{key:"getSharedLayerStyles",value:function(){console.warn("`document.getSharedLayerStyles()` is deprecated. Use `document.sharedLayerStyles` instead.");var e=this._getMSDocumentData();return Object(n.toArray)(e.allLayerStyles()).map(_)}},{key:"getSharedTextStyleWithID",value:function(e){return this._getSharedStyleWithIdAndType(e,Kt.Text)}},{key:"getSharedTextStyles",value:function(){console.warn("`document.getSharedTextStyles()` is deprecated. Use `document.sharedTextStyles` instead.");var e=this._getMSDocumentData();return Object(n.toArray)(e.allTextStyles()).map(_)}},{key:"centerOnLayer",value:function(e){if(!this.isImmutable()){var t=_(e);this._object.contentDrawView().centerRect_(t.sketchObject.rect())}}},{key:"save",value:function(e,t,r){"function"==typeof t?(r=t,t={}):"function"==typeof e&&(r=e,t={},e=void 0);var n=this._getMSDocument();if(n&&n.saveToURL_ofType_forSaveOperation_completionHandler)if(e||this._tempURL){var o=m(e)||this._tempURL,i=t||{},a=i.saveMode,c=i.iKnowThatImOverwritingAFolder;if(!(o.pathExtension()&&String(o.pathExtension())||c))throw new Error("Attempting to overwrite a folder! If you really mean to do that, set the `iKnowThatImOverwritingAFolder` option to `true`");var u=coscript.createFiber(),s=dn[a]||a||NSSaveAsOperation,l=this;n.saveDocumentToURL_saveMode_context_callback(o,s,coscript,function(e){try{r&&(e&&!e.isEqual(NSNull.null())?r(new Error(e.description()),l):r(null,l)),u.cleanup()}catch(e){throw u.cleanup(),e}})}else try{n.saveDocument(null),r&&r(null,this)}catch(e){r&&r(e,this)}else r&&r(new Error("Cannot save this document"),this)}},{key:"close",value:function(){var e=this._getMSDocument();if(!e||!e.close)throw new Error("Cannot close this document");e.close()}}])&&bn(r.prototype,o),i&&bn(r,i),t}();function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}gn.type=y.Document,gn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){fn(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(gn,MSDocumentData),p.registerClass(gn,MSImmutableDocumentData),"undefined"!=typeof MSDocument&&p.registerClass(gn,MSDocument),gn.SaveMode=dn,gn.define("id",{exportable:!0,importable:!1,get:function(){if(this._object)return this._object.objectID?String(this._object.objectID()):String(this._object.documentData().objectID())}}),gn.define("pages",{array:!0,get:function(){return this._object?Object(n.toArray)(this._object.pages()).map(function(e){return Gr.fromNative(e)}):[]},set:function(e){var t=this;this.isImmutable()||(this._object.removePages_detachInstances(this._object.pages(),!0),Object(n.toArray)(e).map(function(e){return _(e,y.Page)}).forEach(function(e){e.parent=t}))},insertItem:function(e,t){if(!this.isImmutable()){var r=_(e,y.Page);return r._object.documentData()&&r._object.documentData().removePages_detachInstances([r._object],!1),"function"==typeof this._object.insertPage_atIndex?this._object.insertPage_atIndex(r._object,t):this._object.documentData().insertPage_atIndex(r._object,t),r}},removeItem:function(e){if(!this.isImmutable()){var t=this._object.pages()[e];return this._object.removePages_detachInstances([t],!0),Gr.fromNative(t)}}}),gn.define("selectedLayers",{enumerable:!1,exportable:!1,importable:!1,get:function(){return new Fr(this.selectedPage)},set:function(e){this.selectedPage.sketchObject.changeSelectionBySelectingLayers((e.layers||e||[]).map(function(e){return _(e).sketchObject}))}}),gn.define("selectedPage",{enumerable:!1,exportable:!1,importable:!1,get:function(){return Gr.fromNative(this._object.currentPage())},set:function(e){var t=_(e,y.Page);t._object.documentData()&&String(t._object.documentData().objectID())!==this.id&&(t._object.documentData().removePages_detachInstances([t._object],!1),t.parent=this),t.selected=!0}}),gn.define("path",{get:function(){var e=this._tempURL||(this._getMSDocument()||{fileURL:function(){}}).fileURL();if(e)return String(e.absoluteString()).replace("file://","")},set:function(e){if(!this.isImmutable()){var t=m(e);Object.defineProperty(this,"_tempURL",{enumerable:!1,value:t})}}}),gn.define("colors",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(n.toArray)(e.assets().colorAssets()).map(function(e){return tn.fromNative(e)})},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().assets();t.removeAllColorAssets(),Object(n.toArray)(e).map(function(e){return tn.from(e)}).forEach(function(e){t.addColorAsset(e._object)})}},insertItem:function(e,t){if(!this.isImmutable()){var r=this._getMSDocumentData().assets(),n=tn.from(e);return r.insertColorAsset_atIndex(n._object,t),n}},removeItem:function(e){if(!this.isImmutable())return this._getMSDocumentData().assets().removeColorAssetAtIndex(e)}}),gn.define("gradients",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(n.toArray)(e.assets().gradientAssets()).map(function(e){return sn.fromNative(e)})},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().assets();t.removeAllGradientAssets(),Object(n.toArray)(e).map(function(e){return sn.from(e)}).forEach(function(e){t.addGradientAsset(e._object)})}},insertItem:function(e,t){if(!this.isImmutable()){var r=this._getMSDocumentData().assets(),n=sn.from(e);return r.insertGradientAsset_atIndex(n._object,t),n}},removeItem:function(e){if(!this.isImmutable())return this._getMSDocumentData().assets().removeGradientAssetAtIndex(e)}}),gn.define("sharedLayerStyles",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(n.toArray)(e.allLayerStyles()).map(_)},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().sharedObjectContainerOfType(1);t.removeAllSharedObjects(),t.addSharedObjects(Object(n.toArray)(e).map(function(e){var t;if(h(e))t=e.sketchObject;else if(Object(n.isNativeObject)(e))t=e;else{var r=_(e.style,y.Style);t=MSSharedStyle.alloc().initWithName_style(e.name,r.sketchObject)}return t}))}},insertItem:function(e,t){if(!this.isImmutable()){var r,o=this._getMSDocumentData();if(h(e))r=e.sketchObject;else if(Object(n.isNativeObject)(e))r=e;else{var i=_(e.style,y.Style);r=MSSharedStyle.alloc().initWithName_style(e.name,i.sketchObject)}return o.sharedObjectContainerOfType(1).insertSharedObject_atIndex(r,t),new Jt({sketchObject:r})}},removeItem:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData(),r=t.sharedObjectContainerOfType(1),n=t.allLayerStyles()[e];return r.removeSharedObjectAtIndex(e),_(n,y.SharedStyle)}}}),gn.define("sharedTextStyles",{array:!0,get:function(){if(!this._object)return[];var e=this._getMSDocumentData();return Object(n.toArray)(e.allTextStyles()).map(_)},set:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData().sharedObjectContainerOfType(2);t.removeAllSharedObjects(),t.addSharedObjects(Object(n.toArray)(e).map(function(e){var t;if(h(e))t=e.sketchObject;else if(Object(n.isNativeObject)(e))t=e;else{var r=_(e.style,y.Style);t=MSSharedStyle.alloc().initWithName_style(e.name,r.sketchObject)}return t}))}},insertItem:function(e,t){if(!this.isImmutable()){var r,o=this._getMSDocumentData();if(h(e))r=e.sketchObject;else if(Object(n.isNativeObject)(e))r=e;else{var i=_(e.style,y.Style);r=MSSharedStyle.alloc().initWithName_style(e.name,i.sketchObject)}return o.sharedObjectContainerOfType(2).insertSharedObject_atIndex(r,t),new Jt({sketchObject:r})}},removeItem:function(e){if(!this.isImmutable()){var t=this._getMSDocumentData(),r=t.sharedObjectContainerOfType(2),n=t.allTextStyles()[e];return r.removeSharedObjectAtIndex(e),_(n,y.SharedStyle)}}});var Mn={Symbol:0,LayerStyle:1,TextStyle:2,Unknown:3},Nn={Symbol:"Symbol",LayerStyle:"LayerStyle",TextStyle:"TextStyle",Unknown:"Unknown"},Dn=function(e){function t(){var e,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!o.sketchObject)throw new Error("Cannot create a ImportableObject directly");return r=this,e=!(n=wn(t).call(this,o))||"object"!==Sn(n)&&"function"!=typeof n?kn(r):n,Object.defineProperty(kn(kn(e)),"_documentData",{enumerable:!1,writable:!0}),e}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(t,b),r=t,(n=[{key:"import",value:function(){if(!this._documentData)throw new Error("missing document data");var e=this._object.shareableObject&&this._object.shareableObject();if(e&&!this._object.sourceLibrary())switch(this.objectType){case Nn.Symbol:var t=this._documentData.symbolWithID(this._object.sharedObjectID());return t?S(t):void 0;case Nn.LayerStyle:var r=this._documentData.layerStyleWithID(this._object.sharedObjectID());return r?S(r):void 0;case Nn.TextStyle:var n=this._documentData.textStyleWithID(this._object.sharedObjectID());return n?S(n):void 0;default:throw new Error("Cannot import an already imported object other than a Symbol or a Shared Style")}if(!(e=AppController.sharedInstance().librariesController().importShareableObjectReference_intoDocument(this._object,this._documentData)))throw new Error("Could not import the Object");return S(e.localObject())}}])&&On(r.prototype,n),o&&On(r,o),t}();function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tn(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Dn.type=y.ImportableObject,Dn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_n(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),"undefined"!=typeof MSShareableObjectReference&&(p.registerClass(Dn,MSShareableObjectReference),p.registerClass(Dn,MSSymbolMasterReference),p.registerClass(Dn,MSSharedStyleReference),p.registerClass(Dn,MSSharedLayerReference),p.registerClass(Dn,MSSharedTextReference)),Dn.define("id",{exportable:!0,importable:!1,get:function(){var e=this._object.sharedObjectID();if(e)return String(e)}}),Dn.define("name",{exportable:!0,importable:!1,get:function(){return String(this._object.name())}}),Dn.define("objectType",{exportable:!0,importable:!1,get:function(){var e=this._object.shareableObjectType();return Object.keys(Mn).find(function(t){return Mn[t]===e})||e}}),Dn.define("library",{exportable:!1,enumerable:!1,get:function(){return S(this._object.sourceLibrary())}});var An={0:"ok",1:"the library has already been added",2:"the document is not in the new JSON format",3:"there was a problem reading the asset library file"},Ln={0:"Internal",1:"User",2:"Remote"};function Rn(){var e=AppController.sharedInstance().librariesController();return Object(n.toArray)(e.libraries()).map(Kn.fromNative.bind(Kn))}var Kn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.sketchObject)throw new Error("Cannot create a new Library directly");return Tn(this,En(t).call(this,e))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,b),r=t,i=[{key:"getLibraries",value:function(){return Rn()}},{key:"getLibraryForDocumentAtPath",value:function(e){for(var r=m(e),n=AppController.sharedInstance().librariesController(),o=n.libraries(),i=0;i<o.count();i+=1){var a=o.objectAtIndex(i),c=a.locationOnDisk();if(c&&c.isEqual(r))return t.fromNative(a)}var u=n.addAssetLibraryAtURL(r);if(0!==u)throw new Error("Error while adding the library: ".concat(An[u],"."));var s=n.userLibraries().firstObject();if(!s)throw new Error("could not find the added library");return n.notifyLibraryChange(s),t.fromNative(s)}},{key:"getRemoteLibraryWithRSS",value:function(e,r){var n=NSURL.URLWithString(e),o=AppController.sharedInstance().librariesController(),i=o.remoteLibraryWithAppcast(n);if(i)r(null,t.fromNative(i));else{var a=coscript.createFiber();o.addRemoteLibraryFromAppcastURL_context_callback(n,coscript,function(e,n){try{n&&!n.isEqual(NSNull.null())?r(new Error(n.description())):r(null,t.fromNative(e)),a.cleanup()}catch(e){throw a.cleanup(),e}})}}}],(o=[{key:"getDocument",value:function(){if(!this._object.document()&&!this._object.loadSynchronously())throw new Error("could not get the document: ".concat(this._object.status));var e=gn.fromNative(this._object.document());return this._object.appcastURL?e._tempURL=this._object.appcastURL():this._object.locationOnDisk&&(e._tempURL=this._object.locationOnDisk()),e}},{key:"getImportableReferencesForDocument",value:function(e,t){var r;switch(t){case Nn.Symbol:r=MSForeignSymbolProvider.alloc().initWithDocument(_(e).sketchObject);break;case Nn.LayerStyle:r=MSSharedLayerStyleProvider.alloc().initWithDocument(_(e).sketchObject);break;case Nn.TextStyle:r=MSSharedTextStyleProvider.alloc().initWithDocument(_(e).sketchObject);break;default:throw new Error("Unknown object type")}var o=MSForeignObjectCollector.alloc().initWithProvider(r).buildCollectionWithFilter(null),i=this.id,a=this.name,c=Object(n.toArray)(o).find(function(e){return e.library&&String(e.library.libraryID())===i&&String(e.library.name())===a});if(!c)return[];var u=function(e){var t=e;return e&&e.sketchObject&&e.sketchObject.documentData?t=e.sketchObject.documentData():e&&e.documentData&&(t=e.documentData()),t}(e);return Object(n.toArray)(c.objectRefs).map(function(e){var t=Dn.fromNative(e);return t._documentData=u,t})}},{key:"getImportableSymbolReferencesForDocument",value:function(e){return this.getImportableReferencesForDocument(e,Nn.Symbol)}},{key:"getImportableLayerStyleReferencesForDocument",value:function(e){return this.getImportableReferencesForDocument(e,Nn.LayerStyle)}},{key:"getImportableTextStyleReferencesForDocument",value:function(e){return this.getImportableReferencesForDocument(e,Nn.TextStyle)}},{key:"remove",value:function(){AppController.sharedInstance().librariesController().removeAssetLibrary(this._object)}}])&&xn(r.prototype,o),i&&xn(r,i),t}();function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Un(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Kn.type=y.Library,Kn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Cn(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),"undefined"!=typeof MSAssetLibrary&&(p.registerClass(Kn,MSAssetLibrary),p.registerClass(Kn,MSUserAssetLibrary),p.registerClass(Kn,MSRemoteAssetLibrary)),Kn.ImportableObjectType=Nn,Kn.define("id",{exportable:!0,importable:!1,get:function(){var e=this._object.libraryID();if(e)return String(e)}}),Kn.define("name",{exportable:!0,importable:!1,get:function(){return String(this._object.name())}}),Kn.define("valid",{exportable:!0,importable:!1,get:function(){return!!this._object.valid()}}),Kn.define("enabled",{get:function(){return!!this._object.enabled()},set:function(e){this._object.setEnabled(e)}}),Kn.define("lastModifiedAt",{exportable:!0,importable:!1,get:function(){var e=this._object.dateLastModified();if(e)return new Date(1e3*e.timeIntervalSince1970())}}),Kn.LibraryType={Internal:"Internal",User:"User",Remote:"Remote"},Kn.define("libraryType",{exportable:!0,importable:!1,get:function(){var e=this._object.libraryType();return Ln[e]||e}});var zn=0,Jn=1,qn={variable:1,constantBaseline:2},Yn=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r.sketchObject||(r.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),e=Un(this,Hn(t).call(this,r)),r.frame||e.adjustToFit(),e}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,Qt),r=t,(n=[{key:"adjustToFit",value:function(){return this.isImmutable()?this:(this._object.adjustFrameToFit(),this)}},{key:"font",set:function(e){console.warn("`Text.font` is deprecated. Use `Text.style.fontFamily` instead"),this.isImmutable()||(this._object.font=e)}},{key:"systemFontSize",set:function(e){console.warn('`Text.systemFontSize = size` is deprecated. Use `Text.style.fontFamily = "system"; Text.style.fontSize = size` instead.'),this.isImmutable()||this._object.setFont(NSFont.systemFontOfSize_(e))}},{key:"fragments",get:function(){for(var e=this.text,t=this._object,r=(this.isImmutable()?t.createTextStorage():t.immutableModelObject().createTextStorage()).layoutManagers().firstObject(),n=r.textContainers().firstObject(),o=r.numberOfGlyphs(),i=t.drawingPointForText(),a=[],c=0;c<o;){var u=NSMakeRange(0,0),s=MOPointer.alloc().initWithValue(u);r.lineFragmentRectForGlyphAtIndex_effectiveRange(c,s);var l=s.value(),f=NSMaxRange(l),b=Math.min(f,o)-c,y=e.substr(c,b),p=y.trimRight();b-=y.length-p.length;var h=NSMakeRange(c,b),m=r.boundingRectForGlyphRange_inTextContainer(h,n),d=new J(m.origin.x+i.x,m.origin.y+i.y,m.size.width,m.size.height),v=r.typesetter().baselineOffsetInLayoutManager_glyphIndex(r,c);a.push({rect:d,baselineOffset:v,range:l}),c=f}return a}}])&&Gn(r.prototype,n),o&&Gn(r,o),t}();function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $n(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Yn.type=y.Text,Yn._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Wn(e,t,r[t])})}return e}({},Qt._DefinedPropertiesKey),p.registerClass(Yn,MSTextLayer),p.registerClass(Yn,MSImmutableTextLayer),Yn.define("text",{get:function(){return String(this._object.stringValue())},set:function(e){if(!this.isImmutable()){var t=this._object;t.replaceTextPreservingAttributeRanges(e),t.updateNameFromStorage()}}}),Yn.Alignment={left:"left",right:"right",center:"center",justified:"justified",natural:"natural"},Yn.VerticalAlignment={top:"top",center:"center",bottom:"bottom"},Yn.define("alignment",{enumerable:!1,exportable:!1,get:function(){return console.warn("`Text.alignment` is deprecated. Use `Text.style.alignment` instead"),this.style.alignment},set:function(e){console.warn("`Text.alignment` is deprecated. Use `Text.style.alignment` instead"),this.style.alignment=e}}),Yn.LineSpacing={variable:"variable",constantBaseline:"constantBaseline"},Yn.define("lineSpacing",{get:function(){var e=this._object.lineSpacingBehaviour();return Object.keys(qn).find(function(t){return qn[t]===e})||e},set:function(e){if(!this.isImmutable()){var t=qn[e],r=void 0!==t?t:e,n=this._object,o=n.immutableModelObject().textLayout(),i=o.firstBaselineOffset();n.lineSpacingBehaviour=r;var a=o.firstBaselineOffset(),c=this.frame;c.y-=a-i,this.frame=c}}}),Yn.define("fixedWidth",{get:function(){return this._object.textBehaviour()===Jn},set:function(e){this.isImmutable()||(this._object.textBehaviour=e?Jn:zn)}});var to=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r.sketchObject)e=$n(this,Qn(t).call(this,r));else if(r.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect()),e=$n(this,Qn(t).call(this,r)),!r.layers){var n=e._object.frame();e.sketchObject.addLayer(MSRectangleShape.alloc().initWithFrame(CGRectMake(0,0,n.width(),n.height())))}return $n(e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(t,Tr),t}();function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}to.type=y.Shape,to._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Zn(e,t,r[t])})}return e}({},Tr._DefinedPropertiesKey),p.registerClass(to,MSShapeGroup),p.registerClass(to,MSImmutableShapeGroup);var co={Undefined:0,Straight:1,Mirrored:2,Asymmetric:3,Disconnected:4,Rounded:5},uo=function(e){function t(){var e,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o.sketchObject||(o.sketchObject=MSCurvePoint.new()),r=this,e=!(n=oo(t).call(this,o))||"object"!==ro(n)&&"function"!=typeof n?ao(r):n,Object.defineProperty(ao(ao(e)),"_parent",{enumerable:!1,writable:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(t,b),t}();function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}uo.type=y.CurvePoint,uo._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){no(e,t,r[t])})}return e}({},b._DefinedPropertiesKey),p.registerClass(uo,MSCurvePoint),delete uo._DefinedPropertiesKey.id,uo.define("cornerRadius",{get:function(){return parseFloat(this._object.cornerRadius())},set:function(e){this._object.setCornerRadius(e),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),uo.define("curveFrom",{get:function(){var e=new ve(this._object.curveFrom());return e._parent=this,e._parentKey="curveFrom",e},set:function(e){this._object.setCurveFrom(NSMakePoint(e.x,e.y)),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),uo.define("curveTo",{get:function(){var e=new ve(this._object.curveTo());return e._parent=this,e._parentKey="curveTo",e},set:function(e){this._object.setCurveTo(NSMakePoint(e.x,e.y)),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),uo.define("point",{get:function(){var e=new ve(this._object.point());return e._parent=this,e._parentKey="point",e},set:function(e){this._object.setPoint(NSMakePoint(e.x,e.y)),this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}}),uo.PointType={Undefined:"Undefined",Straight:"Straight",Mirrored:"Mirrored",Asymmetric:"Asymmetric",Disconnected:"Disconnected"},uo.define("pointType",{get:function(){var e=this._object.curveMode();return Object.keys(co).find(function(t){return co[t]===e})||e},set:function(e){if(e){var t=co[e];this._object.setCurveMode(void 0!==t?t:e)}else this._object.setCurveMode(0);this._parent&&(this._parent.setEdited(!0),this._parent.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}});var ho={Rectangle:"Rectangle",Oval:"Oval",Polygon:"Polygon",Star:"Star",Triangle:"Triangle",Custom:"Custom"},mo={MSRectangleShape:ho.Rectangle,MSShapePathLayer:ho.Custom,MSImmutableShapePathLayer:ho.Custom,MSOvalShape:ho.Oval,MSPolygonShape:ho.Polygon,MSStarShape:ho.Star,MSTriangleShape:ho.Triangle,MSImmutableOvalShape:ho.Oval,MSImmutablePolygonShape:ho.Polygon,MSImmutableRectangleShape:ho.Rectangle,MSImmutableStarShape:ho.Star,MSImmutableTriangleShape:ho.Triangle},vo={Rectangle:MSRectangleShape,Oval:MSOvalShape,Polygon:MSPolygonShape,Star:MSStarShape,Triangle:MSTriangleShape,Custom:MSRectangleShape},jo=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r.sketchObject?e=bo(this,yo(t).call(this,r)):(r.sketchObject=vo[r.shapeType||ho.Custom].alloc().initWithFrame(new J(0,0,100,100).asCGRect()),r.shapeType!==ho.Polygon&&r.shapeType!==ho.Star||r.sketchObject.resetPoints(),e=bo(this,yo(t).call(this,r))),bo(e)}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,Qt),r=t,o=[{key:"fromSVGPath",value:function(e){var t=MOPointer.alloc().init();return new this({sketchObject:MSShapePathLayer.layerWithPath(MSPath.pathWithBezierPath(SVGPathInterpreter.bezierPathFromCommands_isPathClosed(e,t)))})}}],(n=[{key:"getSVGPath",value:function(){var e=NSBezierPath.bezierPathWithPath(this._object.pathInFrameWithTransforms());return String(e.svgPathAttribute()).replace(/^d="/g,"").replace(/"$/g,"")}}])&&fo(r.prototype,n),o&&fo(r,o),t}();function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Po(e,t){return(Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}jo.type=y.ShapePath,jo._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){lo(e,t,r[t])})}return e}({},Qt._DefinedPropertiesKey),p.registerClass(jo,MSRectangleShape),p.registerClass(jo,MSShapePathLayer),p.registerClass(jo,MSImmutableShapePathLayer),p.registerClass(jo,MSOvalShape),p.registerClass(jo,MSPolygonShape),p.registerClass(jo,MSStarShape),p.registerClass(jo,MSTriangleShape),p.registerClass(jo,MSImmutableOvalShape),p.registerClass(jo,MSImmutablePolygonShape),p.registerClass(jo,MSImmutableRectangleShape),p.registerClass(jo,MSImmutableStarShape),p.registerClass(jo,MSImmutableTriangleShape),jo.ShapeType=ho,jo.define("shapeType",{get:function(){return mo[String(this._object.class())]}}),jo.define("points",{get:function(){var e=this;return Object(n.toArray)(this._object.points()).map(function(t){var r=uo.fromNative(t);return r._parent=e._object,r})},set:function(e){if(!this.isImmutable()){this._object.setEdited(!0),this._object.removeAllCurvePoints();var t=e.map(function(e){return _(e,y.CurvePoint).sketchObject});this._object.addCurvePoints(t),this._object.adjustFrameAfterEditIntegral_fixAncestors(!1,!0)}}}),jo.define("closed",{get:function(){return Boolean(Number(this._object.isClosed()))},set:function(e){this.isImmutable()||(this._object.setEdited(!0),this._object.setIsClosed(e),this._object.adjustFrameAfterEditIntegral_fixAncestors(!1,!0))}});var ko=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),Oo(this,wo(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Po(e,t)}(t,Tr),r=t,(n=[{key:"adjustToFit",value:function(){return this._object.resizeToFitChildren(),this}},{key:"getParentArtboard",value:function(){}}])&&_o(r.prototype,n),o&&_o(r,o),t}();function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Do(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Io(e,t){return!t||"object"!==Mo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ko.type=y.Artboard,ko._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){So(e,t,r[t])})}return e}({},Tr._DefinedPropertiesKey),p.registerClass(ko,MSArtboardGroup),p.registerClass(ko,MSImmutableArtboardGroup),delete ko._DefinedPropertiesKey.flow,delete ko._DefinedPropertiesKey.style,delete ko._DefinedPropertiesKey.locked,delete ko._DefinedPropertiesKey.hidden,delete ko._DefinedPropertiesKey.transform,ko.define("flowStartPoint",{get:function(){return!!this._object.isFlowHome()},set:function(e){this.isImmutable()||(this._object.isFlowHome=e)}}),ko.defineObject("background",{enabled:{get:function(){return Boolean(Number(this._object.hasBackgroundColor()))},set:function(e){this._parent.isImmutable()||this._object.setHasBackgroundColor(e)}},includedInExport:{get:function(){return Boolean(Number(this._object.includeBackgroundColorInExport()))},set:function(e){this._parent.isImmutable()||this._object.setIncludeBackgroundColorInExport(e)}},color:{get:function(){return se(this._object.backgroundColor())},set:function(e){this._parent.isImmutable()||this._object.setBackgroundColor(le.from(e).toMSColor())}}});var To=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),Io(this,Co(t).call(this,e))}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(t,ko),r=t,i=[{key:"fromArtboard",value:function(e){var r=_(e);return t.fromNative(MSSymbolMaster.convertArtboardToSymbol(r.sketchObject))}}],(o=[{key:"toArtboard",value:function(){var e=MSSymbolMaster.convertSymbolToArtboard(this._object);return ko.fromNative(e)}},{key:"createNewInstance",value:function(){return _(this._object.newSymbolInstance())}},{key:"getAllInstances",value:function(){return Object(n.toArray)(this._object.allInstances()).map(_)}},{key:"getLibrary",value:function(){var e=AppController.sharedInstance().librariesController().libraryForShareableObject(this._object);if(!e){var t=this._object.foreignObject();return t?{type:y.Library,id:String(t.libraryID()),name:String(t.sourceLibraryName()),enabled:!1,valid:!1}:null}return _(e)}},{key:"syncWithLibrary",value:function(){if(this.isImmutable())return!1;var e=AppController.sharedInstance().librariesController(),t=e.libraryForShareableObject(this._object);if(!t)return!1;var r=this._object.foreignObject();return!!r&&(e.syncForeignObject_withMaster_fromLibrary(r,null,t),!0)}},{key:"unlinkFromLibrary",value:function(){if(this.isImmutable())return!1;if(!AppController.sharedInstance().librariesController().libraryForShareableObject(this._object))return!1;var e=this._object.foreignObject();return!!e&&(e.unlinkFromRemote(),!0)}}])&&Do(r.prototype,o),i&&Do(r,i),t}();function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ao(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lo(e,t){return!t||"object"!==Eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}To.type=y.SymbolMaster,To._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){No(e,t,r[t])})}return e}({},ko._DefinedPropertiesKey),p.registerClass(To,MSSymbolMaster),p.registerClass(To,MSImmutableSymbolMaster),To.define("symbolId",{get:function(){return String(this._object.symbolID())},set:function(){throw new Error("Changing the symbol ID of a SymbolMaster is forbidden.")}}),To.define("overrides",{get:function(){var e=this;if(this._object.overrideProperies){var t=this._object.overrideProperies();return Object(n.toArray)(MSAvailableOverride.flattenAvailableOverrides(this._object.availableOverrides())).map(function(r){var n=V.fromNative(r),o=t[r.overridePoint().name()];return Object.defineProperty(n,"__symbolMaster",{writable:!1,enumerable:!1,value:e}),o&&!r.isVisible&&Object.defineProperty(n,"__editable",{writable:!0,enumerable:!1,value:o.canOverride}),n})}},set:function(e){var t=this;e.forEach(function(e){var r=MSOverridePoint.alloc().init();r.name=e.id,t._object.setOverridePoint_editable(r,e.editable)})}}),To.extendObject("background",{includedInInstance:{get:function(){return Boolean(Number(this._object.includeBackgroundColorInInstance()))},set:function(e){this._parent.isImmutable()||this._object.setIncludeBackgroundColorInInstance(e)}}});var Bo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),Lo(this,Ro(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(t,ae),r=t,o=[{key:"fromLayer",value:function(e){var r=_(e);if(!r||!r.flow||!r.flow.targetId)throw new Error("Can only create a HotSpot from a layer with an existing flow");return new t({sketchObject:MSHotspotLayer.hotspotLayerFromLayer(r.sketchObject)})}}],(n=null)&&Ao(r.prototype,n),o&&Ao(r,o),t}();function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uo(e,t){return!t||"object"!==Wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Bo.type=y.HotSpot,Bo._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Fo(e,t,r[t])})}return e}({},ae._DefinedPropertiesKey),p.registerClass(Bo,MSHotspotLayer),p.registerClass(Bo,MSImmutableHotspotLayer),delete Bo._DefinedPropertiesKey.exportFormats,delete Bo._DefinedPropertiesKey.transform;var zo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.sketchObject||(e.sketchObject=p.createNative(t).alloc().initWithFrame(new J(0,0,100,100).asCGRect())),Uo(this,Ho(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(t,ae),t}();function Jo(){var e=MSPersistentAssetCollection.sharedGlobalAssets().colorAssets();return Object(n.toArray)(e).map(function(e){return tn.fromNative(e)})}function qo(){var e=MSPersistentAssetCollection.sharedGlobalAssets().gradientAssets();return Object(n.toArray)(e).map(function(e){return sn.fromNative(e)})}zo.type=y.Slice,zo._DefinedPropertiesKey=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Go(e,t,r[t])})}return e}({},ae._DefinedPropertiesKey),p.registerClass(zo,MSSliceLayer),p.registerClass(zo,MSImmutableSliceLayer),delete zo._DefinedPropertiesKey.flow,delete zo._DefinedPropertiesKey.transform,r.d(t,"Flow",function(){return Yo}),r.d(t,"version",function(){return Xo}),r.d(t,"export",function(){return dr}),r.d(t,"fromSketchJSON",function(){return vr}),r.d(t,"createLayerFromData",function(){return kr}),r.d(t,"Document",function(){return gn}),r.d(t,"getDocuments",function(){return vn}),r.d(t,"getSelectedDocument",function(){return jn}),r.d(t,"Library",function(){return Kn}),r.d(t,"getLibraries",function(){return Rn}),r.d(t,"SharedStyle",function(){return Jt}),r.d(t,"Rectangle",function(){return J}),r.d(t,"Style",function(){return Bt}),r.d(t,"Group",function(){return Tr}),r.d(t,"Text",function(){return Yn}),r.d(t,"Image",function(){return wr}),r.d(t,"Shape",function(){return to}),r.d(t,"ShapePath",function(){return jo}),r.d(t,"Artboard",function(){return ko}),r.d(t,"Page",function(){return Gr}),r.d(t,"SymbolMaster",function(){return To}),r.d(t,"SymbolInstance",function(){return ar}),r.d(t,"HotSpot",function(){return Bo}),r.d(t,"Slice",function(){return zo}),r.d(t,"Types",function(){return y}),r.d(t,"fromNative",function(){return _}),r.d(t,"getGlobalColors",function(){return Jo}),r.d(t,"getGlobalGradients",function(){return qo});var Yo={AnimationType:{none:"none",slideFromRight:"slideFromRight",slideFromLeft:"slideFromLeft",slideFromBottom:"slideFromBottom",slideFromTop:"slideFromTop"},BackTarget:"back"},Xo={sketch:MSApplicationMetadata.metadata().appVersion,api:"2.0.0"}}]);